{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///home/ebbsy/Documents/Noesis/src/lib/auth.ts"],"sourcesContent":["import { create } from 'zustand';\nimport { persist } from 'zustand/middleware';\nimport { User, AuthState } from '@/types';\n\n// Mock users for demonstration\nconst mockUsers: User[] = [\n  {\n    id: 'lecturer-1',\n    name: 'Dr. Sarah Johnson',\n    email: 'sarah.johnson@university.edu',\n    role: 'lecturer',\n    lecturerId: 'LEC001',\n    taughtClasses: ['1', '2'],\n  },\n  {\n    id: 'student-1',\n    name: 'John Doe',\n    email: 'john.doe@university.edu',\n    role: 'student',\n    studentId: 'STU001',\n    enrolledClasses: ['1'],\n  },\n  {\n    id: 'student-2',\n    name: 'Jane Smith',\n    email: 'jane.smith@university.edu',\n    role: 'student',\n    studentId: 'STU002',\n    enrolledClasses: ['1', '2'],\n  },\n  {\n    id: 'student-3',\n    name: 'Mike Johnson',\n    email: 'mike.johnson@university.edu',\n    role: 'student',\n    studentId: 'STU003',\n    enrolledClasses: ['2'],\n  },\n];\n\nexport const useAuthStore = create<AuthState>()(\n  persist(\n    (set, get) => ({\n      user: null,\n      isAuthenticated: false,\n\n      login: async (email: string, password: string) => {\n        // Mock authentication - in production, this would call an API\n        const user = mockUsers.find(u => u.email === email);\n        \n        if (user && password === 'password') {\n          set({ user, isAuthenticated: true });\n          return true;\n        }\n        \n        return false;\n      },\n\n      logout: () => {\n        set({ user: null, isAuthenticated: false });\n      },\n    }),\n    {\n      name: 'auth-storage',\n    }\n  )\n);\n\n// Mock authentication hook\nexport const useAuth = () => {\n  const auth = useAuthStore();\n  \n  const isLecturer = auth.user?.role === 'lecturer';\n  const isStudent = auth.user?.role === 'student';\n  \n  return {\n    ...auth,\n    isLecturer,\n    isStudent,\n  };\n};\n"],"names":[],"mappings":";;;;;;AAAA;AACA;;;AAGA,+BAA+B;AAC/B,MAAM,YAAoB;IACxB;QACE,IAAI;QACJ,MAAM;QACN,OAAO;QACP,MAAM;QACN,YAAY;QACZ,eAAe;YAAC;YAAK;SAAI;IAC3B;IACA;QACE,IAAI;QACJ,MAAM;QACN,OAAO;QACP,MAAM;QACN,WAAW;QACX,iBAAiB;YAAC;SAAI;IACxB;IACA;QACE,IAAI;QACJ,MAAM;QACN,OAAO;QACP,MAAM;QACN,WAAW;QACX,iBAAiB;YAAC;YAAK;SAAI;IAC7B;IACA;QACE,IAAI;QACJ,MAAM;QACN,OAAO;QACP,MAAM;QACN,WAAW;QACX,iBAAiB;YAAC;SAAI;IACxB;CACD;AAEM,MAAM,eAAe,IAAA,kJAAM,IAChC,IAAA,wJAAO,EACL,CAAC,KAAK,MAAQ,CAAC;QACb,MAAM;QACN,iBAAiB;QAEjB,OAAO,OAAO,OAAe;YAC3B,8DAA8D;YAC9D,MAAM,OAAO,UAAU,IAAI,CAAC,CAAA,IAAK,EAAE,KAAK,KAAK;YAE7C,IAAI,QAAQ,aAAa,YAAY;gBACnC,IAAI;oBAAE;oBAAM,iBAAiB;gBAAK;gBAClC,OAAO;YACT;YAEA,OAAO;QACT;QAEA,QAAQ;YACN,IAAI;gBAAE,MAAM;gBAAM,iBAAiB;YAAM;QAC3C;IACF,CAAC,GACD;IACE,MAAM;AACR;AAKG,MAAM,UAAU;IACrB,MAAM,OAAO;IAEb,MAAM,aAAa,KAAK,IAAI,EAAE,SAAS;IACvC,MAAM,YAAY,KAAK,IAAI,EAAE,SAAS;IAEtC,OAAO;QACL,GAAG,IAAI;QACP;QACA;IACF;AACF"}},
    {"offset": {"line": 103, "column": 0}, "map": {"version":3,"sources":["file:///home/ebbsy/Documents/Noesis/src/lib/data.ts"],"sourcesContent":["import { Class, Student, AttendanceRecord, AttendanceSession } from '@/types';\n\n// Mock data for demonstration\nexport const mockStudents: Student[] = [\n  { id: '1', name: 'John Doe', email: 'john@example.com', studentId: 'STU001' },\n  { id: '2', name: 'Jane Smith', email: 'jane@example.com', studentId: 'STU002' },\n  { id: '3', name: 'Mike Johnson', email: 'mike@example.com', studentId: 'STU003' },\n  { id: '4', name: 'Sarah Williams', email: 'sarah@example.com', studentId: 'STU004' },\n  { id: '5', name: 'Tom Brown', email: 'tom@example.com', studentId: 'STU005' },\n];\n\nexport const mockClasses: Class[] = [\n  {\n    id: '1',\n    name: 'Introduction to Computer Science',\n    description: 'Basic concepts of programming and computer science',\n    students: mockStudents.slice(0, 3),\n    lecturerId: 'lecturer-1',\n  },\n  {\n    id: '2',\n    name: 'Web Development',\n    description: 'Modern web development with React and Next.js',\n    students: mockStudents.slice(2, 5),\n    lecturerId: 'lecturer-1',\n  },\n];\n\nexport const mockAttendanceSessions: AttendanceSession[] = [\n  {\n    id: '1',\n    classId: '1',\n    date: '2024-01-15',\n    startTime: '09:00',\n    endTime: '10:30',\n    isActive: false,\n    records: [\n      { id: '1', classId: '1', studentId: '1', date: '2024-01-15', status: 'present', timestamp: '09:05' },\n      { id: '2', classId: '1', studentId: '2', date: '2024-01-15', status: 'present', timestamp: '09:02' },\n      { id: '3', classId: '1', studentId: '3', date: '2024-01-15', status: 'late', timestamp: '09:15' },\n    ],\n  },\n  {\n    id: '2',\n    classId: '2',\n    date: '2024-01-16',\n    startTime: '14:00',\n    endTime: '15:30',\n    isActive: false,\n    records: [\n      { id: '4', classId: '2', studentId: '3', date: '2024-01-16', status: 'present', timestamp: '14:03' },\n      { id: '5', classId: '2', studentId: '4', date: '2024-01-16', status: 'absent', timestamp: '' },\n      { id: '6', classId: '2', studentId: '5', date: '2024-01-16', status: 'present', timestamp: '14:01' },\n    ],\n  },\n];\n"],"names":[],"mappings":";;;;;;;;AAGO,MAAM,eAA0B;IACrC;QAAE,IAAI;QAAK,MAAM;QAAY,OAAO;QAAoB,WAAW;IAAS;IAC5E;QAAE,IAAI;QAAK,MAAM;QAAc,OAAO;QAAoB,WAAW;IAAS;IAC9E;QAAE,IAAI;QAAK,MAAM;QAAgB,OAAO;QAAoB,WAAW;IAAS;IAChF;QAAE,IAAI;QAAK,MAAM;QAAkB,OAAO;QAAqB,WAAW;IAAS;IACnF;QAAE,IAAI;QAAK,MAAM;QAAa,OAAO;QAAmB,WAAW;IAAS;CAC7E;AAEM,MAAM,cAAuB;IAClC;QACE,IAAI;QACJ,MAAM;QACN,aAAa;QACb,UAAU,aAAa,KAAK,CAAC,GAAG;QAChC,YAAY;IACd;IACA;QACE,IAAI;QACJ,MAAM;QACN,aAAa;QACb,UAAU,aAAa,KAAK,CAAC,GAAG;QAChC,YAAY;IACd;CACD;AAEM,MAAM,yBAA8C;IACzD;QACE,IAAI;QACJ,SAAS;QACT,MAAM;QACN,WAAW;QACX,SAAS;QACT,UAAU;QACV,SAAS;YACP;gBAAE,IAAI;gBAAK,SAAS;gBAAK,WAAW;gBAAK,MAAM;gBAAc,QAAQ;gBAAW,WAAW;YAAQ;YACnG;gBAAE,IAAI;gBAAK,SAAS;gBAAK,WAAW;gBAAK,MAAM;gBAAc,QAAQ;gBAAW,WAAW;YAAQ;YACnG;gBAAE,IAAI;gBAAK,SAAS;gBAAK,WAAW;gBAAK,MAAM;gBAAc,QAAQ;gBAAQ,WAAW;YAAQ;SACjG;IACH;IACA;QACE,IAAI;QACJ,SAAS;QACT,MAAM;QACN,WAAW;QACX,SAAS;QACT,UAAU;QACV,SAAS;YACP;gBAAE,IAAI;gBAAK,SAAS;gBAAK,WAAW;gBAAK,MAAM;gBAAc,QAAQ;gBAAW,WAAW;YAAQ;YACnG;gBAAE,IAAI;gBAAK,SAAS;gBAAK,WAAW;gBAAK,MAAM;gBAAc,QAAQ;gBAAU,WAAW;YAAG;YAC7F;gBAAE,IAAI;gBAAK,SAAS;gBAAK,WAAW;gBAAK,MAAM;gBAAc,QAAQ;gBAAW,WAAW;YAAQ;SACpG;IACH;CACD"}},
    {"offset": {"line": 233, "column": 0}, "map": {"version":3,"sources":["file:///home/ebbsy/Documents/Noesis/src/lib/store.ts"],"sourcesContent":["import { create } from 'zustand';\nimport { persist } from 'zustand/middleware';\nimport { Class, Student, AttendanceSession, AttendanceRecord } from '@/types';\nimport { mockClasses, mockStudents, mockAttendanceSessions } from './data';\n\ninterface AppState {\n  // Data\n  classes: Class[];\n  students: Student[];\n  sessions: AttendanceSession[];\n  \n  // UI State\n  darkMode: boolean;\n  selectedClassId: string | null;\n  \n  // Actions\n  addClass: (classData: Omit<Class, 'id'>) => void;\n  updateClass: (id: string, data: Partial<Class>) => void;\n  deleteClass: (id: string) => void;\n  \n  addStudent: (studentData: Omit<Student, 'id'>) => void;\n  updateStudent: (id: string, data: Partial<Student>) => void;\n  deleteStudent: (id: string) => void;\n  \n  addStudentToClass: (classId: string, student: Student) => void;\n  removeStudentFromClass: (classId: string, studentId: string) => void;\n  \n  createAttendanceSession: (sessionData: Omit<AttendanceSession, 'id' | 'records'>) => string;\n  updateAttendanceRecord: (sessionId: string, studentId: string, status: 'present' | 'absent' | 'late') => void;\n  saveAttendanceSession: (sessionId: string) => void;\n  \n  toggleDarkMode: () => void;\n  setSelectedClass: (classId: string | null) => void;\n  \n  // Utility\n  exportData: () => string;\n  importData: (data: string) => void;\n}\n\nexport const useAppStore = create<AppState>()(\n  persist(\n    (set, get) => ({\n      // Initial state\n      classes: mockClasses,\n      students: mockStudents,\n      sessions: mockAttendanceSessions,\n      darkMode: false,\n      selectedClassId: null,\n      \n      // Class actions\n      addClass: (classData) => {\n        const newClass: Class = {\n          ...classData,\n          id: Date.now().toString(),\n        };\n        set((state) => ({\n          classes: [...state.classes, newClass],\n        }));\n      },\n      \n      updateClass: (id, data) => {\n        set((state) => ({\n          classes: state.classes.map((c) =>\n            c.id === id ? { ...c, ...data } : c\n          ),\n        }));\n      },\n      \n      deleteClass: (id) => {\n        set((state) => ({\n          classes: state.classes.filter((c) => c.id !== id),\n          sessions: state.sessions.filter((s) => s.classId !== id),\n        }));\n      },\n      \n      // Student actions\n      addStudent: (studentData) => {\n        const newStudent: Student = {\n          ...studentData,\n          id: Date.now().toString(),\n        };\n        set((state) => ({\n          students: [...state.students, newStudent],\n        }));\n      },\n      \n      updateStudent: (id, data) => {\n        set((state) => ({\n          students: state.students.map((s) =>\n            s.id === id ? { ...s, ...data } : s\n          ),\n          classes: state.classes.map((c) => ({\n            ...c,\n            students: c.students.map((s) =>\n              s.id === id ? { ...s, ...data } : s\n            ),\n          })),\n        }));\n      },\n      \n      deleteStudent: (id) => {\n        set((state) => ({\n          students: state.students.filter((s) => s.id !== id),\n          classes: state.classes.map((c) => ({\n            ...c,\n            students: c.students.filter((s) => s.id !== id),\n          })),\n          sessions: state.sessions.map((s) => ({\n            ...s,\n            records: s.records.filter((r) => r.studentId !== id),\n          })),\n        }));\n      },\n      \n      addStudentToClass: (classId, student) => {\n        set((state) => ({\n          classes: state.classes.map((c) =>\n            c.id === classId\n              ? { ...c, students: [...c.students, student] }\n              : c\n          ),\n        }));\n      },\n      \n      removeStudentFromClass: (classId, studentId) => {\n        set((state) => ({\n          classes: state.classes.map((c) =>\n            c.id === classId\n              ? { ...c, students: c.students.filter((s) => s.id !== studentId) }\n              : c\n          ),\n        }));\n      },\n      \n      // Attendance actions\n      createAttendanceSession: (sessionData) => {\n        const sessionId = Date.now().toString();\n        const newSession: AttendanceSession = {\n          ...sessionData,\n          id: sessionId,\n          records: [],\n        };\n        set((state) => ({\n          sessions: [...state.sessions, newSession],\n        }));\n        return sessionId;\n      },\n      \n      updateAttendanceRecord: (sessionId, studentId, status) => {\n        set((state) => ({\n          sessions: state.sessions.map((s) => {\n            if (s.id !== sessionId) return s;\n            \n            const existingRecordIndex = s.records.findIndex(\n              (r) => r.studentId === studentId\n            );\n            \n            const newRecord: AttendanceRecord = {\n              id: `${sessionId}-${studentId}`,\n              classId: s.classId,\n              studentId,\n              date: s.date,\n              status,\n              timestamp: new Date().toLocaleTimeString(),\n            };\n            \n            if (existingRecordIndex >= 0) {\n              return {\n                ...s,\n                records: s.records.map((r, index) =>\n                  index === existingRecordIndex ? newRecord : r\n                ),\n              };\n            } else {\n              return {\n                ...s,\n                records: [...s.records, newRecord],\n              };\n            }\n          }),\n        }));\n      },\n      \n      saveAttendanceSession: (sessionId) => {\n        set((state) => ({\n          sessions: state.sessions.map((s) =>\n            s.id === sessionId ? { ...s, endTime: new Date().toLocaleTimeString() } : s\n          ),\n        }));\n      },\n      \n      // UI actions\n      toggleDarkMode: () => {\n        set((state) => ({ darkMode: !state.darkMode }));\n      },\n      \n      setSelectedClass: (classId) => {\n        set({ selectedClassId: classId });\n      },\n      \n      // Utility actions\n      exportData: () => {\n        const state = get();\n        return JSON.stringify({\n          classes: state.classes,\n          students: state.students,\n          sessions: state.sessions,\n        }, null, 2);\n      },\n      \n      importData: (data) => {\n        try {\n          const parsed = JSON.parse(data);\n          set({\n            classes: parsed.classes || [],\n            students: parsed.students || [],\n            sessions: parsed.sessions || [],\n          });\n        } catch (error) {\n          console.error('Failed to import data:', error);\n        }\n      },\n    }),\n    {\n      name: 'attendance-app-storage',\n    }\n  )\n);\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 448, "column": 0}, "map": {"version":3,"sources":["file:///home/ebbsy/Documents/Noesis/src/lib/utils.ts"],"sourcesContent":["import jsPDF from 'jspdf';\nimport html2canvas from 'html2canvas';\n\nexport const exportToCSV = (data: any[], filename: string) => {\n  if (data.length === 0) return;\n  \n  const headers = Object.keys(data[0]);\n  const csvContent = [\n    headers.join(','),\n    ...data.map(row => \n      headers.map(header => {\n        const value = row[header];\n        return typeof value === 'string' && value.includes(',') \n          ? `\"${value}\"` \n          : value;\n      }).join(',')\n    )\n  ].join('\\n');\n  \n  const blob = new Blob([csvContent], { type: 'text/csv;charset=utf-8;' });\n  const link = document.createElement('a');\n  const url = URL.createObjectURL(blob);\n  link.setAttribute('href', url);\n  link.setAttribute('download', `${filename}.csv`);\n  link.style.visibility = 'hidden';\n  document.body.appendChild(link);\n  link.click();\n  document.body.removeChild(link);\n};\n\nexport const exportToPDF = async (elementId: string, filename: string) => {\n  const element = document.getElementById(elementId);\n  if (!element) return;\n  \n  const canvas = await html2canvas(element);\n  const imgData = canvas.toDataURL('image/png');\n  \n  const pdf = new jsPDF();\n  const imgWidth = 210;\n  const pageHeight = 295;\n  const imgHeight = (canvas.height * imgWidth) / canvas.width;\n  let heightLeft = imgHeight;\n  \n  let position = 0;\n  \n  pdf.addImage(imgData, 'PNG', 0, position, imgWidth, imgHeight);\n  heightLeft -= pageHeight;\n  \n  while (heightLeft >= 0) {\n    position = heightLeft - imgHeight;\n    pdf.addPage();\n    pdf.addImage(imgData, 'PNG', 0, position, imgWidth, imgHeight);\n    heightLeft -= pageHeight;\n  }\n  \n  pdf.save(`${filename}.pdf`);\n};\n\nexport const generateQRCode = async (text: string): Promise<string> => {\n  // Placeholder QR code generation\n  // In production, you would use a proper QR code library\n  try {\n    // Create a simple canvas-based QR code placeholder\n    const canvas = document.createElement('canvas');\n    canvas.width = 256;\n    canvas.height = 256;\n    const ctx = canvas.getContext('2d');\n    \n    if (ctx) {\n      // Draw a simple placeholder pattern\n      ctx.fillStyle = '#ffffff';\n      ctx.fillRect(0, 0, 256, 256);\n      \n      ctx.fillStyle = '#000000';\n      const cellSize = 8;\n      for (let i = 0; i < 32; i++) {\n        for (let j = 0; j < 32; j++) {\n          if ((i + j) % 2 === 0) {\n            ctx.fillRect(i * cellSize, j * cellSize, cellSize, cellSize);\n          }\n        }\n      }\n      \n      // Add text in the center\n      ctx.fillStyle = '#000000';\n      ctx.font = '16px Arial';\n      ctx.textAlign = 'center';\n      ctx.fillText('QR Code', 128, 128);\n      \n      return canvas.toDataURL();\n    }\n  } catch (error) {\n    console.error('Failed to generate QR code placeholder:', error);\n  }\n  \n  // Return empty string if all else fails\n  return '';\n};\n\nexport const formatDate = (date: string): string => {\n  return new Date(date).toLocaleDateString('en-US', {\n    year: 'numeric',\n    month: 'long',\n    day: 'numeric',\n  });\n};\n\nexport const formatTime = (time: string): string => {\n  return new Date(`2000-01-01T${time}`).toLocaleTimeString('en-US', {\n    hour: '2-digit',\n    minute: '2-digit',\n  });\n};\n\nexport const calculateAttendanceStats = (records: any[]) => {\n  const total = records.length;\n  const present = records.filter(r => r.status === 'present').length;\n  const absent = records.filter(r => r.status === 'absent').length;\n  const late = records.filter(r => r.status === 'late').length;\n  \n  return {\n    total,\n    present,\n    absent,\n    late,\n    presentPercentage: total > 0 ? Math.round((present / total) * 100) : 0,\n    absentPercentage: total > 0 ? Math.round((absent / total) * 100) : 0,\n    latePercentage: total > 0 ? Math.round((late / total) * 100) : 0,\n  };\n};\n\nexport const debounce = <T extends (...args: any[]) => any>(\n  func: T,\n  wait: number\n): ((...args: Parameters<T>) => void) => {\n  let timeout: NodeJS.Timeout;\n  return (...args: Parameters<T>) => {\n    clearTimeout(timeout);\n    timeout = setTimeout(() => func(...args), wait);\n  };\n};\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 587, "column": 0}, "map": {"version":3,"sources":["file:///home/ebbsy/Documents/Noesis/src/components/ClassList.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useMemo } from 'react';\nimport { useAppStore } from '@/lib/store';\nimport { Class, Student } from '@/types';\nimport { Search, Plus, Users, Edit, Trash2, UserPlus, Download } from 'lucide-react';\nimport { exportToCSV } from '@/lib/utils';\n\ninterface ClassListProps {\n  searchTerm: string;\n}\n\nexport default function ClassList({ searchTerm }: ClassListProps) {\n  const { classes, addClass, deleteClass, addStudentToClass, removeStudentFromClass } = useAppStore();\n  const [selectedClass, setSelectedClass] = useState<Class | null>(null);\n  const [showAddClass, setShowAddClass] = useState(false);\n  const [showAddStudent, setShowAddStudent] = useState(false);\n  const [newClass, setNewClass] = useState({ name: '', description: '' });\n  const [newStudent, setNewStudent] = useState({ name: '', email: '', studentId: '' });\n\n  const filteredClasses = useMemo(() => {\n    return classes.filter(classItem => \n      classItem.name.toLowerCase().includes(searchTerm.toLowerCase()) ||\n      classItem.description.toLowerCase().includes(searchTerm.toLowerCase()) ||\n      classItem.students.some(student => \n        student.name.toLowerCase().includes(searchTerm.toLowerCase()) ||\n        student.email.toLowerCase().includes(searchTerm.toLowerCase()) ||\n        student.studentId.toLowerCase().includes(searchTerm.toLowerCase())\n      )\n    );\n  }, [classes, searchTerm]);\n\n  const handleAddClass = () => {\n    if (newClass.name && newClass.description) {\n      addClass({\n        ...newClass,\n        students: [],\n      });\n      setNewClass({ name: '', description: '' });\n      setShowAddClass(false);\n    }\n  };\n\n  const handleAddStudent = () => {\n    if (selectedClass && newStudent.name && newStudent.email && newStudent.studentId) {\n      const student = {\n        ...newStudent,\n        id: Date.now().toString(),\n      };\n      addStudentToClass(selectedClass.id, student);\n      setNewStudent({ name: '', email: '', studentId: '' });\n      setShowAddStudent(false);\n    }\n  };\n\n  const handleDeleteClass = (classId: string) => {\n    if (confirm('Are you sure you want to delete this class? This action cannot be undone.')) {\n      deleteClass(classId);\n    }\n  };\n\n  const handleExportClassData = (classItem: Class) => {\n    const csvData = classItem.students.map(student => ({\n      'Student ID': student.studentId,\n      'Name': student.name,\n      'Email': student.email,\n    }));\n    exportToCSV(csvData, `${classItem.name.replace(/\\s+/g, '_')}_students`);\n  };\n\n  return (\n    <div className=\"space-y-4 sm:space-y-6\">\n      <div className=\"flex flex-col sm:flex-row sm:justify-between sm:items-start space-y-3 sm:space-y-0\">\n        <div>\n          <h2 className=\"text-lg sm:text-xl font-semibold text-gray-900 dark:text-white\">Classes</h2>\n          <p className=\"text-sm text-gray-500 dark:text-gray-400 mt-1\">\n            {filteredClasses.length} of {classes.length} classes shown\n          </p>\n        </div>\n        <button\n          onClick={() => setShowAddClass(true)}\n          className=\"w-full sm:w-auto bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center space-x-2\"\n        >\n          <Plus className=\"w-4 h-4\" />\n          <span>Add Class</span>\n        </button>\n      </div>\n\n      {showAddClass && (\n        <div className=\"bg-white dark:bg-gray-800 p-4 sm:p-6 rounded-lg shadow border dark:border-gray-700\">\n          <h3 className=\"text-lg font-medium mb-4 text-gray-900 dark:text-white\">Add New Class</h3>\n          <div className=\"space-y-4\">\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">\n                Class Name\n              </label>\n              <input\n                type=\"text\"\n                value={newClass.name}\n                onChange={(e) => setNewClass({ ...newClass, name: e.target.value })}\n                className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-white\"\n                placeholder=\"Enter class name\"\n              />\n            </div>\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">\n                Description\n              </label>\n              <textarea\n                value={newClass.description}\n                onChange={(e) => setNewClass({ ...newClass, description: e.target.value })}\n                className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-white\"\n                rows={3}\n                placeholder=\"Enter class description\"\n              />\n            </div>\n            <div className=\"flex flex-col sm:flex-row sm:space-x-3 space-y-2 sm:space-y-0\">\n              <button\n                onClick={handleAddClass}\n                className=\"w-full sm:w-auto bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition-colors\"\n              >\n                Add Class\n              </button>\n              <button\n                onClick={() => setShowAddClass(false)}\n                className=\"w-full sm:w-auto bg-gray-300 text-gray-700 px-4 py-2 rounded-md hover:bg-gray-400 transition-colors\"\n              >\n                Cancel\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n\n      <div className=\"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-4 sm:gap-6\">\n        {filteredClasses.map((classItem) => (\n          <div\n            key={classItem.id}\n            className=\"bg-white dark:bg-gray-800 rounded-lg shadow border dark:border-gray-700 hover:shadow-md transition-shadow cursor-pointer\"\n            onClick={() => setSelectedClass(classItem)}\n          >\n            <div className=\"p-4 sm:p-6\">\n              <div className=\"flex justify-between items-start mb-2\">\n                <h3 className=\"text-base sm:text-lg font-semibold text-gray-900 dark:text-white line-clamp-2\">\n                  {classItem.name}\n                </h3>\n                <div className=\"flex space-x-1\" onClick={(e) => e.stopPropagation()}>\n                  <button\n                    onClick={() => handleExportClassData(classItem)}\n                    className=\"p-1 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300\"\n                    title=\"Export student list\"\n                  >\n                    <Download className=\"w-4 h-4\" />\n                  </button>\n                  <button\n                    onClick={() => handleDeleteClass(classItem.id)}\n                    className=\"p-1 text-gray-400 hover:text-red-600\"\n                    title=\"Delete class\"\n                  >\n                    <Trash2 className=\"w-4 h-4\" />\n                  </button>\n                </div>\n              </div>\n              <p className=\"text-gray-600 dark:text-gray-400 text-sm mb-4 line-clamp-3\">{classItem.description}</p>\n              <div className=\"flex items-center justify-between\">\n                <div className=\"flex items-center space-x-2\">\n                  <Users className=\"w-4 h-4 text-gray-400\" />\n                  <span className=\"text-sm text-gray-500 dark:text-gray-400\">\n                    {classItem.students.length} students\n                  </span>\n                </div>\n                <svg\n                  className=\"w-5 h-5 text-gray-400\"\n                  fill=\"none\"\n                  stroke=\"currentColor\"\n                  viewBox=\"0 0 24 24\"\n                >\n                  <path\n                    strokeLinecap=\"round\"\n                    strokeLinejoin=\"round\"\n                    strokeWidth={2}\n                    d=\"M9 5l7 7-7 7\"\n                  />\n                </svg>\n              </div>\n            </div>\n          </div>\n        ))}\n      </div>\n\n      {selectedClass && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50\">\n          <div className=\"bg-white dark:bg-gray-800 rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto\">\n            <div className=\"p-4 sm:p-6\">\n              <div className=\"flex flex-col sm:flex-row sm:justify-between sm:items-start mb-4 sm:mb-6 space-y-3 sm:space-y-0\">\n                <div className=\"flex-1\">\n                  <h3 className=\"text-lg sm:text-xl font-semibold text-gray-900 dark:text-white\">\n                    {selectedClass.name}\n                  </h3>\n                  <p className=\"text-gray-600 dark:text-gray-400\">{selectedClass.description}</p>\n                </div>\n                <div className=\"flex items-center space-x-2\">\n                  <button\n                    onClick={() => setShowAddStudent(true)}\n                    className=\"bg-green-600 text-white px-3 py-2 rounded-lg hover:bg-green-700 transition-colors flex items-center space-x-2\"\n                  >\n                    <UserPlus className=\"w-4 h-4\" />\n                    <span className=\"hidden sm:inline\">Add Student</span>\n                    <span className=\"sm:hidden\">Add</span>\n                  </button>\n                  <button\n                    onClick={() => setSelectedClass(null)}\n                    className=\"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300\"\n                  >\n                    <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                      <path\n                        strokeLinecap=\"round\"\n                        strokeLinejoin=\"round\"\n                        strokeWidth={2}\n                        d=\"M6 18L18 6M6 6l12 12\"\n                      />\n                    </svg>\n                  </button>\n                </div>\n              </div>\n              \n              {showAddStudent && (\n                <div className=\"mb-4 sm:mb-6 p-4 bg-gray-50 dark:bg-gray-700 rounded-lg\">\n                  <h4 className=\"text-lg font-medium mb-4 text-gray-900 dark:text-white\">Add New Student</h4>\n                  <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4\">\n                    <input\n                      type=\"text\"\n                      placeholder=\"Student Name\"\n                      value={newStudent.name}\n                      onChange={(e) => setNewStudent({ ...newStudent, name: e.target.value })}\n                      className=\"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-white\"\n                    />\n                    <input\n                      type=\"email\"\n                      placeholder=\"Email\"\n                      value={newStudent.email}\n                      onChange={(e) => setNewStudent({ ...newStudent, email: e.target.value })}\n                      className=\"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-white\"\n                    />\n                    <input\n                      type=\"text\"\n                      placeholder=\"Student ID\"\n                      value={newStudent.studentId}\n                      onChange={(e) => setNewStudent({ ...newStudent, studentId: e.target.value })}\n                      className=\"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-white\"\n                    />\n                  </div>\n                  <div className=\"flex flex-col sm:flex-row sm:space-x-3 space-y-2 sm:space-y-0 mt-4\">\n                    <button\n                      onClick={handleAddStudent}\n                      className=\"w-full sm:w-auto bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition-colors\"\n                    >\n                      Add Student\n                    </button>\n                    <button\n                      onClick={() => setShowAddStudent(false)}\n                      className=\"w-full sm:w-auto bg-gray-300 text-gray-700 px-4 py-2 rounded-md hover:bg-gray-400 transition-colors\"\n                    >\n                      Cancel\n                    </button>\n                  </div>\n                </div>\n              )}\n              \n              <div className=\"space-y-4\">\n                <h4 className=\"text-lg font-medium text-gray-900 dark:text-white\">\n                  Students ({selectedClass.students.length})\n                </h4>\n                <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3\">\n                  {selectedClass.students.map((student) => (\n                    <div\n                      key={student.id}\n                      className=\"flex flex-col sm:flex-row sm:items-center justify-between p-3 sm:p-4 bg-gray-50 dark:bg-gray-700 rounded-lg space-y-2 sm:space-y-0\"\n                    >\n                      <div className=\"flex-1 min-w-0\">\n                        <p className=\"font-medium text-gray-900 dark:text-white truncate\">{student.name}</p>\n                        <p className=\"text-sm text-gray-500 dark:text-gray-400 truncate\">{student.email}</p>\n                      </div>\n                      <div className=\"flex items-center space-x-2 flex-shrink-0\">\n                        <span className=\"text-sm font-medium text-blue-600 bg-blue-100 dark:bg-blue-900 dark:text-blue-300 px-2 py-1 rounded text-xs sm:text-sm\">\n                          {student.studentId}\n                        </span>\n                        <button\n                          onClick={() => {\n                            if (confirm(`Remove ${student.name} from this class?`)) {\n                              removeStudentFromClass(selectedClass.id, student.id);\n                            }\n                          }}\n                          className=\"text-red-600 hover:text-red-800 dark:text-red-400 dark:hover:text-red-300\"\n                        >\n                          <Trash2 className=\"w-4 h-4\" />\n                        </button>\n                      </div>\n                    </div>\n                  ))}\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1323, "column": 0}, "map": {"version":3,"sources":["file:///home/ebbsy/Documents/Noesis/src/components/AttendanceTracker.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useMemo } from 'react';\nimport { useAppStore } from '@/lib/store';\nimport { Class, Student, AttendanceRecord } from '@/types';\nimport { CheckCircle, XCircle, Clock, Users, CheckSquare, XSquare, AlertCircle, Download, QrCode } from 'lucide-react';\nimport { exportToCSV } from '@/lib/utils';\n\ninterface AttendanceTrackerProps {\n  searchTerm: string;\n}\n\nexport default function AttendanceTracker({ searchTerm }: AttendanceTrackerProps) {\n  const { classes, createAttendanceSession, updateAttendanceRecord, saveAttendanceSession, sessions } = useAppStore();\n  const [selectedClass, setSelectedClass] = useState<Class | null>(null);\n  const [currentSessionId, setCurrentSessionId] = useState<string | null>(null);\n  const [attendance, setAttendance] = useState<Record<string, 'present' | 'absent' | 'late'>>({});\n  const [sessionStarted, setSessionStarted] = useState(false);\n  const [sessionDate, setSessionDate] = useState(new Date().toISOString().split('T')[0]);\n  const [showQRCode, setShowQRCode] = useState(false);\n\n  const filteredClasses = useMemo(() => {\n    return classes.filter(classItem => \n      classItem.name.toLowerCase().includes(searchTerm.toLowerCase()) ||\n      classItem.description.toLowerCase().includes(searchTerm.toLowerCase())\n    );\n  }, [classes, searchTerm]);\n\n  const handleClassSelect = (classItem: Class) => {\n    setSelectedClass(classItem);\n    const initialAttendance: Record<string, 'present' | 'absent' | 'late'> = {};\n    classItem.students.forEach((student) => {\n      initialAttendance[student.id] = 'absent';\n    });\n    setAttendance(initialAttendance);\n  };\n\n  const handleAttendanceChange = (studentId: string, status: 'present' | 'absent' | 'late') => {\n    setAttendance((prev) => ({\n      ...prev,\n      [studentId]: status,\n    }));\n    if (currentSessionId) {\n      updateAttendanceRecord(currentSessionId, studentId, status);\n    }\n  };\n\n  const handleBulkAttendance = (status: 'present' | 'absent' | 'late') => {\n    if (!selectedClass) return;\n    \n    const newAttendance: Record<string, 'present' | 'absent' | 'late'> = {};\n    selectedClass.students.forEach((student) => {\n      newAttendance[student.id] = status;\n      if (currentSessionId) {\n        updateAttendanceRecord(currentSessionId, student.id, status);\n      }\n    });\n    setAttendance(newAttendance);\n  };\n\n  const startSession = () => {\n    if (!selectedClass) return;\n    \n    const sessionId = createAttendanceSession({\n      classId: selectedClass.id,\n      date: sessionDate,\n      startTime: new Date().toLocaleTimeString(),\n    });\n    \n    setCurrentSessionId(sessionId);\n    setSessionStarted(true);\n  };\n\n  const saveAttendance = () => {\n    if (currentSessionId) {\n      saveAttendanceSession(currentSessionId);\n      alert('Attendance saved successfully!');\n      resetSession();\n    }\n  };\n\n  const resetSession = () => {\n    setSessionStarted(false);\n    setSelectedClass(null);\n    setCurrentSessionId(null);\n    setAttendance({});\n  };\n\n  const exportCurrentAttendance = () => {\n    if (!selectedClass) return;\n    \n    const csvData = selectedClass.students.map(student => ({\n      'Student ID': student.studentId,\n      'Name': student.name,\n      'Email': student.email,\n      'Status': attendance[student.id] || 'absent',\n    }));\n    \n    exportToCSV(csvData, `${selectedClass.name.replace(/\\s+/g, '_')}_${sessionDate}_attendance`);\n  };\n\n  const getAttendanceStats = () => {\n    if (!selectedClass) return { present: 0, absent: 0, late: 0 };\n\n    return Object.values(attendance).reduce(\n      (acc, status) => {\n        acc[status]++;\n        return acc;\n      },\n      { present: 0, absent: 0, late: 0 }\n    );\n  };\n\n  const stats = getAttendanceStats();\n\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"flex justify-between items-center\">\n        <div>\n          <h2 className=\"text-xl font-semibold text-gray-900 dark:text-white\">Take Attendance</h2>\n          <p className=\"text-sm text-gray-500 dark:text-gray-400 mt-1\">\n            {filteredClasses.length} of {classes.length} classes available\n          </p>\n        </div>\n        <div className=\"flex items-center space-x-3\">\n          <input\n            type=\"date\"\n            value={sessionDate}\n            onChange={(e) => setSessionDate(e.target.value)}\n            className=\"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-white\"\n          />\n        </div>\n      </div>\n\n      {!selectedClass ? (\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n          {filteredClasses.map((classItem) => (\n            <div\n              key={classItem.id}\n              onClick={() => handleClassSelect(classItem)}\n              className=\"bg-white dark:bg-gray-800 rounded-lg shadow border dark:border-gray-700 hover:shadow-md transition-shadow cursor-pointer p-6\"\n            >\n              <h3 className=\"text-lg font-semibold text-gray-900 dark:text-white mb-2\">\n                {classItem.name}\n              </h3>\n              <p className=\"text-gray-600 dark:text-gray-400 text-sm mb-4\">{classItem.description}</p>\n              <div className=\"flex items-center justify-between\">\n                <div className=\"flex items-center space-x-2\">\n                  <Users className=\"w-4 h-4 text-gray-400\" />\n                  <span className=\"text-sm text-gray-500 dark:text-gray-400\">\n                    {classItem.students.length} students\n                  </span>\n                </div>\n                <button className=\"bg-blue-600 text-white px-3 py-1 rounded-md text-sm hover:bg-blue-700 transition-colors flex items-center space-x-1\">\n                  <CheckCircle className=\"w-4 h-4\" />\n                  <span>Select</span>\n                </button>\n              </div>\n            </div>\n          ))}\n        </div>\n      ) : (\n        <div className=\"bg-white dark:bg-gray-800 rounded-lg shadow border dark:border-gray-700\">\n          <div className=\"p-6 border-b dark:border-gray-700\">\n            <div className=\"flex justify-between items-center\">\n              <div>\n                <h3 className=\"text-xl font-semibold text-gray-900 dark:text-white\">{selectedClass.name}</h3>\n                <p className=\"text-gray-600 dark:text-gray-400\">{selectedClass.description}</p>\n              </div>\n              <div className=\"flex items-center space-x-2\">\n                <button\n                  onClick={() => setShowQRCode(!showQRCode)}\n                  className=\"p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300\"\n                  title=\"Generate QR Code\"\n                >\n                  <QrCode className=\"w-5 h-5\" />\n                </button>\n                <button\n                  onClick={exportCurrentAttendance}\n                  className=\"p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300\"\n                  title=\"Export Attendance\"\n                >\n                  <Download className=\"w-5 h-5\" />\n                </button>\n                <button\n                  onClick={resetSession}\n                  className=\"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300\"\n                >\n                  <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path\n                      strokeLinecap=\"round\"\n                      strokeLinejoin=\"round\"\n                      strokeWidth={2}\n                      d=\"M6 18L18 6M6 6l12 12\"\n                    />\n                  </svg>\n                </button>\n              </div>\n            </div>\n          </div>\n\n          <div className=\"p-6\">\n            {!sessionStarted ? (\n              <div className=\"text-center py-8\">\n                <h4 className=\"text-lg font-medium mb-4 text-gray-900 dark:text-white\">Start Attendance Session</h4>\n                <p className=\"text-gray-600 dark:text-gray-400 mb-6\">\n                  Ready to take attendance for {selectedClass.students.length} students\n                </p>\n                <button\n                  onClick={startSession}\n                  className=\"bg-green-600 text-white px-6 py-3 rounded-lg hover:bg-green-700 transition-colors flex items-center space-x-2 mx-auto\"\n                >\n                  <CheckCircle className=\"w-5 h-5\" />\n                  <span>Start Session</span>\n                </button>\n              </div>\n            ) : (\n              <div className=\"space-y-6\">\n                {/* Bulk Actions */}\n                <div className=\"flex flex-wrap items-center justify-between gap-4\">\n                  <div className=\"flex flex-wrap gap-2\">\n                    <button\n                      onClick={() => handleBulkAttendance('present')}\n                      className=\"bg-green-100 text-green-700 px-3 py-2 rounded-lg hover:bg-green-200 transition-colors flex items-center space-x-1\"\n                    >\n                      <CheckSquare className=\"w-4 h-4\" />\n                      <span>Mark All Present</span>\n                    </button>\n                    <button\n                      onClick={() => handleBulkAttendance('late')}\n                      className=\"bg-yellow-100 text-yellow-700 px-3 py-2 rounded-lg hover:bg-yellow-200 transition-colors flex items-center space-x-1\"\n                    >\n                      <Clock className=\"w-4 h-4\" />\n                      <span>Mark All Late</span>\n                    </button>\n                    <button\n                      onClick={() => handleBulkAttendance('absent')}\n                      className=\"bg-red-100 text-red-700 px-3 py-2 rounded-lg hover:bg-red-200 transition-colors flex items-center space-x-1\"\n                    >\n                      <XSquare className=\"w-4 h-4\" />\n                      <span>Mark All Absent</span>\n                    </button>\n                  </div>\n                  <button\n                    onClick={saveAttendance}\n                    className=\"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-2\"\n                  >\n                    <Download className=\"w-4 h-4\" />\n                    <span>Save Attendance</span>\n                  </button>\n                </div>\n\n                {/* Student List */}\n                <div className=\"space-y-3\">\n                  {selectedClass.students.map((student) => (\n                    <div\n                      key={student.id}\n                      className=\"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-700 rounded-lg\"\n                    >\n                      <div className=\"flex-1\">\n                        <p className=\"font-medium text-gray-900 dark:text-white\">{student.name}</p>\n                        <p className=\"text-sm text-gray-500 dark:text-gray-400\">\n                          {student.email}  {student.studentId}\n                        </p>\n                      </div>\n                      <div className=\"flex space-x-2\">\n                        {(['present', 'late', 'absent'] as const).map((status) => {\n                          const isActive = attendance[student.id] === status;\n                          const iconMap = {\n                            present: CheckCircle,\n                            late: Clock,\n                            absent: XCircle,\n                          };\n                          const Icon = iconMap[status];\n                          const colorMap = {\n                            present: isActive\n                              ? 'bg-green-600 text-white'\n                              : 'bg-gray-200 text-gray-700 hover:bg-gray-300',\n                            late: isActive\n                              ? 'bg-yellow-600 text-white'\n                              : 'bg-gray-200 text-gray-700 hover:bg-gray-300',\n                            absent: isActive\n                              ? 'bg-red-600 text-white'\n                              : 'bg-gray-200 text-gray-700 hover:bg-gray-300',\n                          };\n                          \n                          return (\n                            <button\n                              key={status}\n                              onClick={() => handleAttendanceChange(student.id, status)}\n                              className={`px-3 py-2 rounded-lg text-sm font-medium transition-colors flex items-center space-x-1 ${colorMap[status]}`}\n                            >\n                              <Icon className=\"w-4 h-4\" />\n                              <span>{status.charAt(0).toUpperCase() + status.slice(1)}</span>\n                            </button>\n                          );\n                        })}\n                      </div>\n                    </div>\n                  ))}\n                </div>\n              </div>\n            )}\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1990, "column": 0}, "map": {"version":3,"sources":["file:///home/ebbsy/Documents/Noesis/src/components/AttendanceReports.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useMemo } from 'react';\nimport { useAppStore } from '@/lib/store';\nimport { Class, AttendanceSession, AttendanceRecord } from '@/types';\nimport { Calendar, Filter, Download, FileText, Users, TrendingUp, AlertCircle } from 'lucide-react';\nimport { exportToCSV, exportToPDF, calculateAttendanceStats } from '@/lib/utils';\n\ninterface AttendanceReportsProps {\n  searchTerm: string;\n}\n\nexport default function AttendanceReports({ searchTerm }: AttendanceReportsProps) {\n  const { sessions, classes } = useAppStore();\n  const [selectedClass, setSelectedClass] = useState<string>('all');\n  const [selectedDateRange, setSelectedDateRange] = useState({ start: '', end: '' });\n  const [showFilters, setShowFilters] = useState(false);\n\n  const filteredSessions = useMemo(() => {\n    return sessions.filter((session) => {\n      const classMatch = selectedClass === 'all' || session.classId === selectedClass;\n      const dateMatch =\n        (!selectedDateRange.start || session.date >= selectedDateRange.start) &&\n        (!selectedDateRange.end || session.date <= selectedDateRange.end);\n      return classMatch && dateMatch;\n    });\n  }, [sessions, selectedClass, selectedDateRange]);\n\n  const getClassName = (classId: string) => {\n    const classItem = classes.find((c) => c.id === classId);\n    return classItem ? classItem.name : 'Unknown Class';\n  };\n\n  const getStudentName = (classId: string, studentId: string) => {\n    const classItem = classes.find((c) => c.id === classId);\n    const student = classItem?.students.find((s) => s.id === studentId);\n    return student ? student.name : 'Unknown Student';\n  };\n\n  const getStudentEmail = (classId: string, studentId: string) => {\n    const classItem = classes.find((c) => c.id === classId);\n    const student = classItem?.students.find((s) => s.id === studentId);\n    return student ? student.email : 'Unknown Email';\n  };\n\n  const getStudentId = (classId: string, studentId: string) => {\n    const classItem = classes.find((c) => c.id === classId);\n    const student = classItem?.students.find((s) => s.id === studentId);\n    return student ? student.studentId : 'Unknown ID';\n  };\n\n  const exportAttendanceData = (format: 'csv' | 'pdf') => {\n    const studentSummary = getStudentAttendanceSummary();\n    \n    if (format === 'csv') {\n      const csvData = studentSummary.map(student => ({\n        'Student Name': student.name,\n        'Student ID': student.studentId,\n        'Total Sessions': student.total,\n        'Present': student.present,\n        'Late': student.late,\n        'Absent': student.absent,\n        'Attendance Rate': `${student.attendanceRate}%`,\n      }));\n      exportToCSV(csvData, 'attendance_report');\n    } else {\n      // For PDF export, we'd need to create a printable element\n      alert('PDF export feature coming soon!');\n    }\n  };\n\n  const exportClassReport = (classItem: Class) => {\n    const classSessions = filteredSessions.filter((s) => s.classId === classItem.id);\n    const reportData = classSessions.flatMap(session => \n      session.records.map(record => {\n        const student = classItem.students.find(s => s.id === record.studentId);\n        return {\n          'Date': session.date,\n          'Student Name': student?.name || 'Unknown',\n          'Student ID': student?.studentId || 'Unknown',\n          'Status': record.status,\n          'Timestamp': record.timestamp,\n        };\n      })\n    );\n    exportToCSV(reportData, `${classItem.name.replace(/\\s+/g, '_')}_detailed_report`);\n  };\n\n  const getStudentAttendanceSummary = () => {\n    const summary: Record<string, { \n      name: string; \n      studentId: string;\n      email: string;\n      present: number; \n      absent: number; \n      late: number; \n      total: number;\n      attendanceRate: number;\n    }> = {};\n\n    filteredSessions.forEach((session) => {\n      session.records.forEach((record) => {\n        const studentName = getStudentName(record.classId, record.studentId);\n        const studentEmail = getStudentEmail(record.classId, record.studentId);\n        const studentId = getStudentId(record.classId, record.studentId);\n        \n        if (!summary[record.studentId]) {\n          summary[record.studentId] = {\n            name: studentName,\n            studentId,\n            email: studentEmail,\n            present: 0,\n            absent: 0,\n            late: 0,\n            total: 0,\n            attendanceRate: 0,\n          };\n        }\n        summary[record.studentId][record.status]++;\n        summary[record.studentId].total++;\n      });\n    });\n\n    // Calculate attendance rates\n    Object.values(summary).forEach(student => {\n      student.attendanceRate = student.total > 0 ? Math.round((student.present / student.total) * 100) : 0;\n    });\n\n    return Object.values(summary);\n  };\n\n  const getClassAttendanceSummary = () => {\n    return classes.map((classItem) => {\n      const classSessions = filteredSessions.filter((s) => s.classId === classItem.id);\n      const allRecords = classSessions.flatMap((s) => s.records);\n      const stats = calculateAttendanceStats(allRecords);\n\n      return {\n        class: classItem,\n        sessions: classSessions.length,\n        totalRecords: allRecords.length,\n        attendancePercentage: stats.presentPercentage,\n      };\n    });\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"flex justify-between items-center\">\n        <div>\n          <h2 className=\"text-xl font-semibold text-gray-900 dark:text-white\">Attendance Reports</h2>\n          <p className=\"text-sm text-gray-500 dark:text-gray-400 mt-1\">\n            {filteredSessions.length} sessions found\n          </p>\n        </div>\n        <div className=\"flex items-center space-x-3\">\n          <button\n            onClick={() => setShowFilters(!showFilters)}\n            className={`px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors ${\n              showFilters \n                ? 'bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-300' \n                : 'bg-gray-100 text-gray-700 dark:bg-gray-700 dark:text-gray-300'\n            }`}\n          >\n            <Filter className=\"w-4 h-4\" />\n            <span>Filters</span>\n          </button>\n          <button\n            onClick={() => exportAttendanceData('csv')}\n            className=\"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-2\"\n          >\n            <Download className=\"w-4 h-4\" />\n            <span>Export CSV</span>\n          </button>\n        </div>\n      </div>\n\n      {showFilters && (\n        <div className=\"bg-white dark:bg-gray-800 rounded-lg shadow border dark:border-gray-700 p-6\">\n          <h3 className=\"text-lg font-medium mb-4 text-gray-900 dark:text-white\">Filters</h3>\n          <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">\n                Class\n              </label>\n              <select\n                value={selectedClass}\n                onChange={(e) => setSelectedClass(e.target.value)}\n                className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-white\"\n              >\n                <option value=\"all\">All Classes</option>\n                {classes.map((classItem) => (\n                  <option key={classItem.id} value={classItem.id}>\n                    {classItem.name}\n                  </option>\n                ))}\n              </select>\n            </div>\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">\n                Start Date\n              </label>\n              <input\n                type=\"date\"\n                value={selectedDateRange.start}\n                onChange={(e) =>\n                  setSelectedDateRange({ ...selectedDateRange, start: e.target.value })\n                }\n                className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-white\"\n              />\n            </div>\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">\n                End Date\n              </label>\n              <input\n                type=\"date\"\n                value={selectedDateRange.end}\n                onChange={(e) =>\n                  setSelectedDateRange({ ...selectedDateRange, end: e.target.value })\n                }\n                className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-white\"\n              />\n            </div>\n          </div>\n        </div>\n      )}\n\n      <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n        <div className=\"bg-white dark:bg-gray-800 rounded-lg shadow border dark:border-gray-700\">\n          <div className=\"p-6 border-b dark:border-gray-700\">\n            <h3 className=\"text-lg font-medium text-gray-900 dark:text-white\">Class Summary</h3>\n          </div>\n          <div className=\"p-6\">\n            <div className=\"space-y-4\">\n              {getClassAttendanceSummary().map((summary) => (\n                <div key={summary.class.id} className=\"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-700 rounded-lg\">\n                  <div className=\"flex-1\">\n                    <p className=\"font-medium text-gray-900 dark:text-white\">{summary.class.name}</p>\n                    <p className=\"text-sm text-gray-500 dark:text-gray-400\">\n                      {summary.sessions} sessions  {summary.totalRecords} total records\n                    </p>\n                  </div>\n                  <div className=\"flex items-center space-x-2\">\n                    <div className=\"text-right\">\n                      <p className={`text-2xl font-bold ${\n                        summary.attendancePercentage >= 80 ? 'text-green-600' :\n                        summary.attendancePercentage >= 60 ? 'text-yellow-600' : 'text-red-600'\n                      }`}>\n                        {summary.attendancePercentage}%\n                      </p>\n                      <p className=\"text-sm text-gray-500 dark:text-gray-400\">Attendance Rate</p>\n                    </div>\n                    <button\n                      onClick={() => exportClassReport(summary.class)}\n                      className=\"p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300\"\n                      title=\"Export class report\"\n                    >\n                      <Download className=\"w-4 h-4\" />\n                    </button>\n                  </div>\n                </div>\n              ))}\n            </div>\n          </div>\n        </div>\n\n        <div className=\"bg-white dark:bg-gray-800 rounded-lg shadow border dark:border-gray-700\">\n          <div className=\"p-6 border-b dark:border-gray-700\">\n            <h3 className=\"text-lg font-medium text-gray-900 dark:text-white\">Recent Sessions</h3>\n          </div>\n          <div className=\"p-6\">\n            <div className=\"space-y-4\">\n              {filteredSessions.slice(0, 5).map((session) => {\n                const stats = calculateAttendanceStats(session.records);\n                return (\n                  <div key={session.id} className=\"border-l-4 border-blue-500 pl-4\">\n                    <div className=\"flex justify-between items-start\">\n                      <div>\n                        <p className=\"font-medium text-gray-900 dark:text-white\">\n                          {getClassName(session.classId)}\n                        </p>\n                        <p className=\"text-sm text-gray-500 dark:text-gray-400\">\n                          {session.date}  {session.startTime} - {session.endTime || 'Ongoing'}\n                        </p>\n                      </div>\n                      <div className=\"text-right\">\n                        <p className=\"text-sm font-medium text-gray-900 dark:text-white\">\n                          {session.records.length} students\n                        </p>\n                        <p className=\"text-sm text-gray-500 dark:text-gray-400\">\n                          {stats.presentPercentage}% present\n                        </p>\n                      </div>\n                    </div>\n                  </div>\n                );\n              })}\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div className=\"bg-white dark:bg-gray-800 rounded-lg shadow border dark:border-gray-700\" id=\"attendance-table\">\n        <div className=\"p-6 border-b dark:border-gray-700\">\n          <h3 className=\"text-lg font-medium text-gray-900 dark:text-white\">Student Attendance Summary</h3>\n        </div>\n        <div className=\"overflow-x-auto\">\n          <table className=\"min-w-full\">\n            <thead className=\"bg-gray-50 dark:bg-gray-700\">\n              <tr>\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider\">\n                  Student Name\n                </th>\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider\">\n                  Student ID\n                </th>\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider\">\n                  Total Sessions\n                </th>\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider\">\n                  Present\n                </th>\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider\">\n                  Late\n                </th>\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider\">\n                  Absent\n                </th>\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider\">\n                  Attendance Rate\n                </th>\n              </tr>\n            </thead>\n            <tbody className=\"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700\">\n              {getStudentAttendanceSummary().map((student) => (\n                <tr key={student.name}>\n                  <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white\">\n                    {student.name}\n                  </td>\n                  <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400\">\n                    {student.studentId}\n                  </td>\n                  <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400\">\n                    {student.total}\n                  </td>\n                  <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400\">\n                    <span className=\"text-green-600 dark:text-green-400 font-medium\">{student.present}</span>\n                  </td>\n                  <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400\">\n                    <span className=\"text-yellow-600 dark:text-yellow-400 font-medium\">{student.late}</span>\n                  </td>\n                  <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400\">\n                    <span className=\"text-red-600 dark:text-red-400 font-medium\">{student.absent}</span>\n                  </td>\n                  <td className=\"px-6 py-4 whitespace-nowrap\">\n                    <span className={`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${\n                      student.attendanceRate >= 80 ? 'bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300' :\n                      student.attendanceRate >= 60 ? 'bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-300' : 'bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300'\n                    }`}>\n                      {student.attendanceRate}%\n                    </span>\n                  </td>\n                </tr>\n              ))}\n            </tbody>\n          </table>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAEA;AAAA;AACA;AANA;;;;;;AAYe,SAAS,kBAAkB,EAAE,UAAU,EAA0B;IAC9E,MAAM,EAAE,QAAQ,EAAE,OAAO,EAAE,GAAG,IAAA,kIAAW;IACzC,MAAM,CAAC,eAAe,iBAAiB,GAAG,IAAA,iNAAQ,EAAS;IAC3D,MAAM,CAAC,mBAAmB,qBAAqB,GAAG,IAAA,iNAAQ,EAAC;QAAE,OAAO;QAAI,KAAK;IAAG;IAChF,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,iNAAQ,EAAC;IAE/C,MAAM,mBAAmB,IAAA,gNAAO,EAAC;QAC/B,OAAO,SAAS,MAAM,CAAC,CAAC;YACtB,MAAM,aAAa,kBAAkB,SAAS,QAAQ,OAAO,KAAK;YAClE,MAAM,YACJ,CAAC,CAAC,kBAAkB,KAAK,IAAI,QAAQ,IAAI,IAAI,kBAAkB,KAAK,KACpE,CAAC,CAAC,kBAAkB,GAAG,IAAI,QAAQ,IAAI,IAAI,kBAAkB,GAAG;YAClE,OAAO,cAAc;QACvB;IACF,GAAG;QAAC;QAAU;QAAe;KAAkB;IAE/C,MAAM,eAAe,CAAC;QACpB,MAAM,YAAY,QAAQ,IAAI,CAAC,CAAC,IAAM,EAAE,EAAE,KAAK;QAC/C,OAAO,YAAY,UAAU,IAAI,GAAG;IACtC;IAEA,MAAM,iBAAiB,CAAC,SAAiB;QACvC,MAAM,YAAY,QAAQ,IAAI,CAAC,CAAC,IAAM,EAAE,EAAE,KAAK;QAC/C,MAAM,UAAU,WAAW,SAAS,KAAK,CAAC,IAAM,EAAE,EAAE,KAAK;QACzD,OAAO,UAAU,QAAQ,IAAI,GAAG;IAClC;IAEA,MAAM,kBAAkB,CAAC,SAAiB;QACxC,MAAM,YAAY,QAAQ,IAAI,CAAC,CAAC,IAAM,EAAE,EAAE,KAAK;QAC/C,MAAM,UAAU,WAAW,SAAS,KAAK,CAAC,IAAM,EAAE,EAAE,KAAK;QACzD,OAAO,UAAU,QAAQ,KAAK,GAAG;IACnC;IAEA,MAAM,eAAe,CAAC,SAAiB;QACrC,MAAM,YAAY,QAAQ,IAAI,CAAC,CAAC,IAAM,EAAE,EAAE,KAAK;QAC/C,MAAM,UAAU,WAAW,SAAS,KAAK,CAAC,IAAM,EAAE,EAAE,KAAK;QACzD,OAAO,UAAU,QAAQ,SAAS,GAAG;IACvC;IAEA,MAAM,uBAAuB,CAAC;QAC5B,MAAM,iBAAiB;QAEvB,IAAI,WAAW,OAAO;YACpB,MAAM,UAAU,eAAe,GAAG,CAAC,CAAA,UAAW,CAAC;oBAC7C,gBAAgB,QAAQ,IAAI;oBAC5B,cAAc,QAAQ,SAAS;oBAC/B,kBAAkB,QAAQ,KAAK;oBAC/B,WAAW,QAAQ,OAAO;oBAC1B,QAAQ,QAAQ,IAAI;oBACpB,UAAU,QAAQ,MAAM;oBACxB,mBAAmB,GAAG,QAAQ,cAAc,CAAC,CAAC,CAAC;gBACjD,CAAC;YACD,IAAA,kIAAW,EAAC,SAAS;QACvB,OAAO;YACL,0DAA0D;YAC1D,MAAM;QACR;IACF;IAEA,MAAM,oBAAoB,CAAC;QACzB,MAAM,gBAAgB,iBAAiB,MAAM,CAAC,CAAC,IAAM,EAAE,OAAO,KAAK,UAAU,EAAE;QAC/E,MAAM,aAAa,cAAc,OAAO,CAAC,CAAA,UACvC,QAAQ,OAAO,CAAC,GAAG,CAAC,CAAA;gBAClB,MAAM,UAAU,UAAU,QAAQ,CAAC,IAAI,CAAC,CAAA,IAAK,EAAE,EAAE,KAAK,OAAO,SAAS;gBACtE,OAAO;oBACL,QAAQ,QAAQ,IAAI;oBACpB,gBAAgB,SAAS,QAAQ;oBACjC,cAAc,SAAS,aAAa;oBACpC,UAAU,OAAO,MAAM;oBACvB,aAAa,OAAO,SAAS;gBAC/B;YACF;QAEF,IAAA,kIAAW,EAAC,YAAY,GAAG,UAAU,IAAI,CAAC,OAAO,CAAC,QAAQ,KAAK,gBAAgB,CAAC;IAClF;IAEA,MAAM,8BAA8B;QAClC,MAAM,UASD,CAAC;QAEN,iBAAiB,OAAO,CAAC,CAAC;YACxB,QAAQ,OAAO,CAAC,OAAO,CAAC,CAAC;gBACvB,MAAM,cAAc,eAAe,OAAO,OAAO,EAAE,OAAO,SAAS;gBACnE,MAAM,eAAe,gBAAgB,OAAO,OAAO,EAAE,OAAO,SAAS;gBACrE,MAAM,YAAY,aAAa,OAAO,OAAO,EAAE,OAAO,SAAS;gBAE/D,IAAI,CAAC,OAAO,CAAC,OAAO,SAAS,CAAC,EAAE;oBAC9B,OAAO,CAAC,OAAO,SAAS,CAAC,GAAG;wBAC1B,MAAM;wBACN;wBACA,OAAO;wBACP,SAAS;wBACT,QAAQ;wBACR,MAAM;wBACN,OAAO;wBACP,gBAAgB;oBAClB;gBACF;gBACA,OAAO,CAAC,OAAO,SAAS,CAAC,CAAC,OAAO,MAAM,CAAC;gBACxC,OAAO,CAAC,OAAO,SAAS,CAAC,CAAC,KAAK;YACjC;QACF;QAEA,6BAA6B;QAC7B,OAAO,MAAM,CAAC,SAAS,OAAO,CAAC,CAAA;YAC7B,QAAQ,cAAc,GAAG,QAAQ,KAAK,GAAG,IAAI,KAAK,KAAK,CAAC,AAAC,QAAQ,OAAO,GAAG,QAAQ,KAAK,GAAI,OAAO;QACrG;QAEA,OAAO,OAAO,MAAM,CAAC;IACvB;IAEA,MAAM,4BAA4B;QAChC,OAAO,QAAQ,GAAG,CAAC,CAAC;YAClB,MAAM,gBAAgB,iBAAiB,MAAM,CAAC,CAAC,IAAM,EAAE,OAAO,KAAK,UAAU,EAAE;YAC/E,MAAM,aAAa,cAAc,OAAO,CAAC,CAAC,IAAM,EAAE,OAAO;YACzD,MAAM,QAAQ,IAAA,+IAAwB,EAAC;YAEvC,OAAO;gBACL,OAAO;gBACP,UAAU,cAAc,MAAM;gBAC9B,cAAc,WAAW,MAAM;gBAC/B,sBAAsB,MAAM,iBAAiB;YAC/C;QACF;IACF;IAEA,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;;0CACC,8OAAC;gCAAG,WAAU;0CAAsD;;;;;;0CACpE,8OAAC;gCAAE,WAAU;;oCACV,iBAAiB,MAAM;oCAAC;;;;;;;;;;;;;kCAG7B,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCACC,SAAS,IAAM,eAAe,CAAC;gCAC/B,WAAW,CAAC,mEAAmE,EAC7E,cACI,kEACA,iEACJ;;kDAEF,8OAAC,gNAAM;wCAAC,WAAU;;;;;;kDAClB,8OAAC;kDAAK;;;;;;;;;;;;0CAER,8OAAC;gCACC,SAAS,IAAM,qBAAqB;gCACpC,WAAU;;kDAEV,8OAAC,sNAAQ;wCAAC,WAAU;;;;;;kDACpB,8OAAC;kDAAK;;;;;;;;;;;;;;;;;;;;;;;;YAKX,6BACC,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAG,WAAU;kCAAyD;;;;;;kCACvE,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;;kDACC,8OAAC;wCAAM,WAAU;kDAAkE;;;;;;kDAGnF,8OAAC;wCACC,OAAO;wCACP,UAAU,CAAC,IAAM,iBAAiB,EAAE,MAAM,CAAC,KAAK;wCAChD,WAAU;;0DAEV,8OAAC;gDAAO,OAAM;0DAAM;;;;;;4CACnB,QAAQ,GAAG,CAAC,CAAC,0BACZ,8OAAC;oDAA0B,OAAO,UAAU,EAAE;8DAC3C,UAAU,IAAI;mDADJ,UAAU,EAAE;;;;;;;;;;;;;;;;;0CAM/B,8OAAC;;kDACC,8OAAC;wCAAM,WAAU;kDAAkE;;;;;;kDAGnF,8OAAC;wCACC,MAAK;wCACL,OAAO,kBAAkB,KAAK;wCAC9B,UAAU,CAAC,IACT,qBAAqB;gDAAE,GAAG,iBAAiB;gDAAE,OAAO,EAAE,MAAM,CAAC,KAAK;4CAAC;wCAErE,WAAU;;;;;;;;;;;;0CAGd,8OAAC;;kDACC,8OAAC;wCAAM,WAAU;kDAAkE;;;;;;kDAGnF,8OAAC;wCACC,MAAK;wCACL,OAAO,kBAAkB,GAAG;wCAC5B,UAAU,CAAC,IACT,qBAAqB;gDAAE,GAAG,iBAAiB;gDAAE,KAAK,EAAE,MAAM,CAAC,KAAK;4CAAC;wCAEnE,WAAU;;;;;;;;;;;;;;;;;;;;;;;;0BAOpB,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAI,WAAU;0CACb,cAAA,8OAAC;oCAAG,WAAU;8CAAoD;;;;;;;;;;;0CAEpE,8OAAC;gCAAI,WAAU;0CACb,cAAA,8OAAC;oCAAI,WAAU;8CACZ,4BAA4B,GAAG,CAAC,CAAC,wBAChC,8OAAC;4CAA2B,WAAU;;8DACpC,8OAAC;oDAAI,WAAU;;sEACb,8OAAC;4DAAE,WAAU;sEAA6C,QAAQ,KAAK,CAAC,IAAI;;;;;;sEAC5E,8OAAC;4DAAE,WAAU;;gEACV,QAAQ,QAAQ;gEAAC;gEAAa,QAAQ,YAAY;gEAAC;;;;;;;;;;;;;8DAGxD,8OAAC;oDAAI,WAAU;;sEACb,8OAAC;4DAAI,WAAU;;8EACb,8OAAC;oEAAE,WAAW,CAAC,mBAAmB,EAChC,QAAQ,oBAAoB,IAAI,KAAK,mBACrC,QAAQ,oBAAoB,IAAI,KAAK,oBAAoB,gBACzD;;wEACC,QAAQ,oBAAoB;wEAAC;;;;;;;8EAEhC,8OAAC;oEAAE,WAAU;8EAA2C;;;;;;;;;;;;sEAE1D,8OAAC;4DACC,SAAS,IAAM,kBAAkB,QAAQ,KAAK;4DAC9C,WAAU;4DACV,OAAM;sEAEN,cAAA,8OAAC,sNAAQ;gEAAC,WAAU;;;;;;;;;;;;;;;;;;2CAtBhB,QAAQ,KAAK,CAAC,EAAE;;;;;;;;;;;;;;;;;;;;;kCA+BlC,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAI,WAAU;0CACb,cAAA,8OAAC;oCAAG,WAAU;8CAAoD;;;;;;;;;;;0CAEpE,8OAAC;gCAAI,WAAU;0CACb,cAAA,8OAAC;oCAAI,WAAU;8CACZ,iBAAiB,KAAK,CAAC,GAAG,GAAG,GAAG,CAAC,CAAC;wCACjC,MAAM,QAAQ,IAAA,+IAAwB,EAAC,QAAQ,OAAO;wCACtD,qBACE,8OAAC;4CAAqB,WAAU;sDAC9B,cAAA,8OAAC;gDAAI,WAAU;;kEACb,8OAAC;;0EACC,8OAAC;gEAAE,WAAU;0EACV,aAAa,QAAQ,OAAO;;;;;;0EAE/B,8OAAC;gEAAE,WAAU;;oEACV,QAAQ,IAAI;oEAAC;oEAAI,QAAQ,SAAS;oEAAC;oEAAI,QAAQ,OAAO,IAAI;;;;;;;;;;;;;kEAG/D,8OAAC;wDAAI,WAAU;;0EACb,8OAAC;gEAAE,WAAU;;oEACV,QAAQ,OAAO,CAAC,MAAM;oEAAC;;;;;;;0EAE1B,8OAAC;gEAAE,WAAU;;oEACV,MAAM,iBAAiB;oEAAC;;;;;;;;;;;;;;;;;;;2CAfvB,QAAQ,EAAE;;;;;oCAqBxB;;;;;;;;;;;;;;;;;;;;;;;0BAMR,8OAAC;gBAAI,WAAU;gBAA0E,IAAG;;kCAC1F,8OAAC;wBAAI,WAAU;kCACb,cAAA,8OAAC;4BAAG,WAAU;sCAAoD;;;;;;;;;;;kCAEpE,8OAAC;wBAAI,WAAU;kCACb,cAAA,8OAAC;4BAAM,WAAU;;8CACf,8OAAC;oCAAM,WAAU;8CACf,cAAA,8OAAC;;0DACC,8OAAC;gDAAG,WAAU;0DAAoG;;;;;;0DAGlH,8OAAC;gDAAG,WAAU;0DAAoG;;;;;;0DAGlH,8OAAC;gDAAG,WAAU;0DAAoG;;;;;;0DAGlH,8OAAC;gDAAG,WAAU;0DAAoG;;;;;;0DAGlH,8OAAC;gDAAG,WAAU;0DAAoG;;;;;;0DAGlH,8OAAC;gDAAG,WAAU;0DAAoG;;;;;;0DAGlH,8OAAC;gDAAG,WAAU;0DAAoG;;;;;;;;;;;;;;;;;8CAKtH,8OAAC;oCAAM,WAAU;8CACd,8BAA8B,GAAG,CAAC,CAAC,wBAClC,8OAAC;;8DACC,8OAAC;oDAAG,WAAU;8DACX,QAAQ,IAAI;;;;;;8DAEf,8OAAC;oDAAG,WAAU;8DACX,QAAQ,SAAS;;;;;;8DAEpB,8OAAC;oDAAG,WAAU;8DACX,QAAQ,KAAK;;;;;;8DAEhB,8OAAC;oDAAG,WAAU;8DACZ,cAAA,8OAAC;wDAAK,WAAU;kEAAkD,QAAQ,OAAO;;;;;;;;;;;8DAEnF,8OAAC;oDAAG,WAAU;8DACZ,cAAA,8OAAC;wDAAK,WAAU;kEAAoD,QAAQ,IAAI;;;;;;;;;;;8DAElF,8OAAC;oDAAG,WAAU;8DACZ,cAAA,8OAAC;wDAAK,WAAU;kEAA8C,QAAQ,MAAM;;;;;;;;;;;8DAE9E,8OAAC;oDAAG,WAAU;8DACZ,cAAA,8OAAC;wDAAK,WAAW,CAAC,yDAAyD,EACzE,QAAQ,cAAc,IAAI,KAAK,sEAC/B,QAAQ,cAAc,IAAI,KAAK,0EAA0E,6DACzG;;4DACC,QAAQ,cAAc;4DAAC;;;;;;;;;;;;;2CAxBrB,QAAQ,IAAI;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmCrC"}},
    {"offset": {"line": 2823, "column": 0}, "map": {"version":3,"sources":["file:///home/ebbsy/Documents/Noesis/src/components/AttendanceCharts.tsx"],"sourcesContent":["'use client';\n\nimport { useAppStore } from '@/lib/store';\nimport { Class, AttendanceSession, AttendanceRecord } from '@/types';\nimport { calculateAttendanceStats } from '@/lib/utils';\nimport { PieChart, Pie, Cell, BarChart, Bar, XAxis, YAxis, CartesianGrid, Tooltip, Legend, LineChart, Line, ResponsiveContainer } from 'recharts';\n\nconst COLORS = {\n  present: '#10b981',\n  absent: '#ef4444',\n  late: '#f59e0b',\n};\n\nexport default function AttendanceCharts() {\n  const { sessions, classes } = useAppStore();\n\n  // Prepare data for overall attendance pie chart\n  const allRecords = sessions?.flatMap(s => s.records) || [];\n  const overallStats = calculateAttendanceStats(allRecords);\n  \n  const pieData = [\n    { name: 'Present', value: overallStats.present, color: COLORS.present },\n    { name: 'Absent', value: overallStats.absent, color: COLORS.absent },\n    { name: 'Late', value: overallStats.late, color: COLORS.late },\n  ];\n\n  // Prepare data for class comparison bar chart\n  const classComparisonData = classes.map(classItem => {\n    const classSessions = sessions?.filter(s => s.classId === classItem.id) || [];\n    const classRecords = classSessions.flatMap(s => s.records);\n    const stats = calculateAttendanceStats(classRecords);\n    \n    return {\n      name: classItem.name.length > 15 ? classItem.name.substring(0, 15) + '...' : classItem.name,\n      present: stats.presentPercentage,\n      absent: stats.absentPercentage,\n      late: stats.latePercentage,\n    };\n  });\n\n  // Prepare data for attendance trend line chart\n  const trendData = (sessions || [])\n    .sort((a, b) => new Date(a.date).getTime() - new Date(b.date).getTime())\n    .map(session => {\n      const stats = calculateAttendanceStats(session.records);\n      return {\n        date: new Date(session.date).toLocaleDateString('en-US', { month: 'short', day: 'numeric' }),\n        presentPercentage: stats.presentPercentage,\n        totalStudents: stats.total,\n      };\n    });\n\n  return (\n    <div className=\"space-y-4 sm:space-y-6\">\n      {/* Overall Attendance Pie Chart */}\n      <div className=\"bg-white dark:bg-gray-800 rounded-lg shadow border dark:border-gray-700 p-4 sm:p-6\">\n        <h3 className=\"text-lg font-medium mb-4 text-gray-900 dark:text-white\">Overall Attendance Distribution</h3>\n        <div className=\"overflow-x-auto\">\n          <ResponsiveContainer width=\"100%\" height={300}>\n            <PieChart>\n              <Pie\n                data={pieData}\n                cx=\"50%\"\n                cy=\"50%\"\n                labelLine={false}\n                label={({ name, percent }) => `${name}: ${percent ? (percent * 100).toFixed(0) : 0}%`}\n                outerRadius={80}\n                fill=\"#8884d8\"\n                dataKey=\"value\"\n              >\n                {pieData.map((entry, index) => (\n                  <Cell key={`cell-${index}`} fill={entry.color} />\n                ))}\n              </Pie>\n              <Tooltip />\n            </PieChart>\n          </ResponsiveContainer>\n        </div>\n        <div className=\"flex flex-wrap justify-center gap-4 sm:gap-6 mt-4\">\n          {pieData.map((item) => (\n            <div key={item.name} className=\"flex items-center space-x-2\">\n              <div \n                className=\"w-3 h-3 rounded-full\" \n                style={{ backgroundColor: item.color }}\n              />\n              <span className=\"text-sm text-gray-600 dark:text-gray-400\">{item.name}: {item.value}</span>\n            </div>\n          ))}\n        </div>\n      </div>\n\n      {/* Class Comparison Bar Chart */}\n      <div className=\"bg-white dark:bg-gray-800 rounded-lg shadow border dark:border-gray-700 p-4 sm:p-6\">\n        <h3 className=\"text-lg font-medium mb-4 text-gray-900 dark:text-white\">Class Attendance Comparison</h3>\n        <div className=\"overflow-x-auto\">\n          <ResponsiveContainer width=\"100%\" height={300}>\n            <BarChart data={classComparisonData}>\n              <CartesianGrid strokeDasharray=\"3 3\" />\n              <XAxis dataKey=\"name\" />\n              <YAxis />\n              <Tooltip />\n              <Legend />\n              <Bar dataKey=\"present\" fill={COLORS.present} name=\"Present %\" />\n              <Bar dataKey=\"absent\" fill={COLORS.absent} name=\"Absent %\" />\n              <Bar dataKey=\"late\" fill={COLORS.late} name=\"Late %\" />\n            </BarChart>\n          </ResponsiveContainer>\n        </div>\n      </div>\n\n      {/* Attendance Trend Line Chart */}\n      <div className=\"bg-white dark:bg-gray-800 rounded-lg shadow border dark:border-gray-700 p-4 sm:p-6\">\n        <h3 className=\"text-lg font-medium mb-4 text-gray-900 dark:text-white\">Attendance Trend Over Time</h3>\n        <div className=\"overflow-x-auto\">\n          <ResponsiveContainer width=\"100%\" height={300}>\n            <LineChart data={trendData}>\n              <CartesianGrid strokeDasharray=\"3 3\" />\n              <XAxis dataKey=\"date\" />\n              <YAxis />\n              <Tooltip />\n              <Legend />\n              <Line \n                type=\"monotone\" \n                dataKey=\"presentPercentage\" \n                stroke={COLORS.present} \n                strokeWidth={2}\n                name=\"Present %\"\n              />\n            </LineChart>\n          </ResponsiveContainer>\n        </div>\n      </div>\n\n      {/* Summary Stats */}\n      <div className=\"grid grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4\">\n        <div className=\"bg-white dark:bg-gray-800 rounded-lg shadow border dark:border-gray-700 p-4 sm:p-6\">\n          <div className=\"flex items-center\">\n            <div className=\"p-3 bg-green-100 dark:bg-green-900 rounded-full\">\n              <svg className=\"w-5 h-5 sm:w-6 sm:h-6 text-green-600 dark:text-green-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\" />\n              </svg>\n            </div>\n            <div className=\"ml-4\">\n              <p className=\"text-sm font-medium text-gray-500 dark:text-gray-400\">Total Present</p>\n              <p className=\"text-xl sm:text-2xl font-semibold text-gray-900 dark:text-white\">{overallStats.present}</p>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"bg-white dark:bg-gray-800 rounded-lg shadow border dark:border-gray-700 p-4 sm:p-6\">\n          <div className=\"flex items-center\">\n            <div className=\"p-3 bg-red-100 dark:bg-red-900 rounded-full\">\n              <svg className=\"w-5 h-5 sm:w-6 sm:h-6 text-red-600 dark:text-red-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z\" />\n              </svg>\n            </div>\n            <div className=\"ml-4\">\n              <p className=\"text-sm font-medium text-gray-500 dark:text-gray-400\">Total Absent</p>\n              <p className=\"text-xl sm:text-2xl font-semibold text-gray-900 dark:text-white\">{overallStats.absent}</p>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"bg-white dark:bg-gray-800 rounded-lg shadow border dark:border-gray-700 p-4 sm:p-6\">\n          <div className=\"flex items-center\">\n            <div className=\"p-3 bg-yellow-100 dark:bg-yellow-900 rounded-full\">\n              <svg className=\"w-5 h-5 sm:w-6 sm:h-6 text-yellow-600 dark:text-yellow-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z\" />\n              </svg>\n            </div>\n            <div className=\"ml-4\">\n              <p className=\"text-sm font-medium text-gray-500 dark:text-gray-400\">Total Late</p>\n              <p className=\"text-xl sm:text-2xl font-semibold text-gray-900 dark:text-white\">{overallStats.late}</p>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"bg-white dark:bg-gray-800 rounded-lg shadow border dark:border-gray-700 p-4 sm:p-6\">\n          <div className=\"flex items-center\">\n            <div className=\"p-3 bg-blue-100 dark:bg-blue-900 rounded-full\">\n              <svg className=\"w-5 h-5 sm:w-6 sm:h-6 text-blue-600 dark:text-blue-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z\" />\n              </svg>\n            </div>\n            <div className=\"ml-4\">\n              <p className=\"text-sm font-medium text-gray-500 dark:text-gray-400\">Attendance Rate</p>\n              <p className=\"text-xl sm:text-2xl font-semibold text-gray-900 dark:text-white\">{overallStats.presentPercentage}%</p>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 3479, "column": 0}, "map": {"version":3,"sources":["file:///home/ebbsy/Documents/Noesis/src/components/Login.tsx"],"sourcesContent":["'use client';\n\nimport { useState } from 'react';\nimport { useAuth } from '@/lib/auth';\nimport { User, Lock, Mail, GraduationCap, Users } from 'lucide-react';\n\nexport default function Login() {\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState('');\n  const { login, isAuthenticated } = useAuth();\n\n  if (isAuthenticated) {\n    return null; // Will be redirected by the main component\n  }\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setIsLoading(true);\n    setError('');\n\n    const success = await login(email, password);\n    \n    if (!success) {\n      setError('Invalid email or password');\n    }\n    \n    setIsLoading(false);\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-gray-900 dark:to-gray-800 flex items-center justify-center p-4\">\n      <div className=\"max-w-md w-full space-y-8\">\n        {/* Header */}\n        <div className=\"text-center\">\n          <div className=\"flex justify-center\">\n            <div className=\"bg-blue-600 text-white p-3 rounded-full\">\n              <GraduationCap className=\"w-8 h-8\" />\n            </div>\n          </div>\n          <h2 className=\"mt-6 text-3xl font-bold text-gray-900 dark:text-white\">\n            Noesis Attendance System\n          </h2>\n          <p className=\"mt-2 text-sm text-gray-600 dark:text-gray-400\">\n            Sign in to access your dashboard\n          </p>\n        </div>\n\n        {/* Login Form */}\n        <div className=\"bg-white dark:bg-gray-800 shadow-xl rounded-lg p-8\">\n          <form className=\"space-y-6\" onSubmit={handleSubmit}>\n            {error && (\n              <div className=\"bg-red-50 dark:bg-red-900 border border-red-200 dark:border-red-700 rounded-md p-4\">\n                <p className=\"text-sm text-red-600 dark:text-red-400\">{error}</p>\n              </div>\n            )}\n\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\n                Email Address\n              </label>\n              <div className=\"relative\">\n                <div className=\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\">\n                  <Mail className=\"h-5 w-5 text-gray-400\" />\n                </div>\n                <input\n                  type=\"email\"\n                  value={email}\n                  onChange={(e) => setEmail(e.target.value)}\n                  className=\"pl-10 w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white\"\n                  placeholder=\"Enter your email\"\n                  required\n                />\n              </div>\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\n                Password\n              </label>\n              <div className=\"relative\">\n                <div className=\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\">\n                  <Lock className=\"h-5 w-5 text-gray-400\" />\n                </div>\n                <input\n                  type=\"password\"\n                  value={password}\n                  onChange={(e) => setPassword(e.target.value)}\n                  className=\"pl-10 w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white\"\n                  placeholder=\"Enter your password\"\n                  required\n                />\n              </div>\n            </div>\n\n            <button\n              type=\"submit\"\n              disabled={isLoading}\n              className=\"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed\"\n            >\n              {isLoading ? 'Signing in...' : 'Sign in'}\n            </button>\n          </form>\n        </div>\n\n        {/* Demo Accounts */}\n        <div className=\"bg-white dark:bg-gray-800 rounded-lg p-6 shadow-lg\">\n          <h3 className=\"text-lg font-medium text-gray-900 dark:text-white mb-4\">\n            Demo Accounts\n          </h3>\n          <div className=\"space-y-3\">\n            <div className=\"flex items-start space-x-3\">\n              <div className=\"flex-shrink-0\">\n                <User className=\"h-5 w-5 text-blue-600\" />\n              </div>\n              <div className=\"flex-1\">\n                <p className=\"text-sm font-medium text-gray-900 dark:text-white\">\n                  Lecturer Account\n                </p>\n                <p className=\"text-xs text-gray-500 dark:text-gray-400\">\n                  Email: sarah.johnson@university.edu<br />\n                  Password: password\n                </p>\n              </div>\n            </div>\n            <div className=\"flex items-start space-x-3\">\n              <div className=\"flex-shrink-0\">\n                <Users className=\"h-5 w-5 text-green-600\" />\n              </div>\n              <div className=\"flex-1\">\n                <p className=\"text-sm font-medium text-gray-900 dark:text-white\">\n                  Student Accounts\n                </p>\n                <p className=\"text-xs text-gray-500 dark:text-gray-400\">\n                  john.doe@university.edu<br />\n                  jane.smith@university.edu<br />\n                  mike.johnson@university.edu<br />\n                  Password: password\n                </p>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 3876, "column": 0}, "map": {"version":3,"sources":["file:///home/ebbsy/Documents/Noesis/src/components/StudentDashboard.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useMemo } from 'react';\nimport { useAuth } from '@/lib/auth';\nimport { useAppStore } from '@/lib/store';\nimport { Calendar, Clock, CheckCircle, XCircle, AlertCircle, TrendingUp, BookOpen, User, Users } from 'lucide-react';\nimport { calculateAttendanceStats } from '@/lib/utils';\n\nexport default function StudentDashboard() {\n  const { user } = useAuth();\n  const { classes, sessions } = useAppStore();\n  const [selectedClass, setSelectedClass] = useState<string>('all');\n\n  // Get classes the student is enrolled in\n  const enrolledClasses = useMemo(() => {\n    if (!user || !user.enrolledClasses) return [];\n    return classes.filter(cls => user.enrolledClasses?.includes(cls.id));\n  }, [classes, user?.enrolledClasses]);\n\n  // Get attendance records for this student\n  const studentSessions = useMemo(() => {\n    if (!user || !user.studentId) return [];\n    return sessions.filter(session => \n      session.records.some(record => record.studentId === user.studentId)\n    );\n  }, [sessions, user?.studentId]);\n\n  // Calculate attendance statistics\n  const attendanceStats = useMemo(() => {\n    if (!user || !user.studentId) return { total: 0, present: 0, absent: 0, late: 0, presentPercentage: 0 };\n    const allRecords = studentSessions.flatMap(session => \n      session.records.filter(record => record.studentId === user.studentId)\n    );\n    return calculateAttendanceStats(allRecords);\n  }, [studentSessions, user?.studentId]);\n\n  // Get recent attendance\n  const recentAttendance = useMemo(() => {\n    if (!user || !user.studentId) return [];\n    return studentSessions\n      .sort((a, b) => new Date(b.date).getTime() - new Date(a.date).getTime())\n      .slice(0, 5)\n      .map(session => {\n        const record = session.records.find(r => r.studentId === user.studentId);\n        const classInfo = classes.find(c => c.id === session.classId);\n        return {\n          className: classInfo?.name || 'Unknown Class',\n          date: session.date,\n          status: record?.status || 'absent',\n          time: record?.timestamp || '',\n        };\n      });\n  }, [studentSessions, classes, user?.studentId]);\n\n  // Filter sessions by selected class\n  const filteredSessions = useMemo(() => {\n    if (selectedClass === 'all') return recentAttendance;\n    return recentAttendance.filter(session => {\n      const classInfo = classes.find(c => c.id === selectedClass);\n      return session.className === classInfo?.name;\n    });\n  }, [selectedClass, recentAttendance, classes]);\n\n  if (!user) return null;\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Welcome Header */}\n      <div className=\"bg-gradient-to-r from-blue-500 to-indigo-600 rounded-lg p-6 text-white\">\n        <div className=\"flex items-center space-x-4\">\n          <div className=\"bg-white bg-opacity-20 p-3 rounded-full\">\n            <User className=\"w-8 h-8\" />\n          </div>\n          <div>\n            <h1 className=\"text-2xl font-bold\">Welcome back, {user?.name}!</h1>\n            <p className=\"text-blue-100\">Student ID: {user?.studentId}</p>\n          </div>\n        </div>\n      </div>\n\n      {/* Attendance Overview */}\n      <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\n        <div className=\"bg-white dark:bg-gray-800 rounded-lg shadow border dark:border-gray-700 p-6\">\n          <div className=\"flex items-center justify-between\">\n            <div>\n              <p className=\"text-sm font-medium text-gray-500 dark:text-gray-400\">Total Classes</p>\n              <p className=\"text-2xl font-bold text-gray-900 dark:text-white\">{attendanceStats.total}</p>\n            </div>\n            <BookOpen className=\"w-8 h-8 text-blue-500\" />\n          </div>\n        </div>\n\n        <div className=\"bg-white dark:bg-gray-800 rounded-lg shadow border dark:border-gray-700 p-6\">\n          <div className=\"flex items-center justify-between\">\n            <div>\n              <p className=\"text-sm font-medium text-gray-500 dark:text-gray-400\">Total Sessions</p>\n              <p className=\"text-2xl font-bold text-gray-900 dark:text-white\">{attendanceStats.total}</p>\n            </div>\n            <Calendar className=\"w-8 h-8 text-green-500\" />\n          </div>\n        </div>\n\n        <div className=\"bg-white dark:bg-gray-800 rounded-lg shadow border dark:border-gray-700 p-6\">\n          <div className=\"flex items-center justify-between\">\n            <div>\n              <p className=\"text-sm font-medium text-gray-500 dark:text-gray-400\">Present</p>\n              <p className=\"text-2xl font-bold text-green-600 dark:text-green-400\">{attendanceStats.present}</p>\n            </div>\n            <CheckCircle className=\"w-8 h-8 text-green-500\" />\n          </div>\n        </div>\n\n        <div className=\"bg-white dark:bg-gray-800 rounded-lg shadow border dark:border-gray-700 p-6\">\n          <div className=\"flex items-center justify-between\">\n            <div>\n              <p className=\"text-sm font-medium text-gray-500 dark:text-gray-400\">Attendance Rate</p>\n              <p className=\"text-2xl font-bold text-blue-600 dark:text-blue-400\">{attendanceStats.presentPercentage}%</p>\n            </div>\n            <TrendingUp className=\"w-8 h-8 text-blue-500\" />\n          </div>\n        </div>\n      </div>\n\n      {/* Filter */}\n      <div className=\"bg-white dark:bg-gray-800 rounded-lg shadow border dark:border-gray-700 p-4\">\n        <div className=\"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-3 sm:space-y-0\">\n          <h3 className=\"text-lg font-medium text-gray-900 dark:text-white\">Recent Attendance</h3>\n          <select\n            value={selectedClass}\n            onChange={(e) => setSelectedClass(e.target.value)}\n            className=\"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-white\"\n          >\n            <option value=\"all\">All Classes</option>\n            {enrolledClasses.map(cls => (\n              <option key={cls.id} value={cls.id}>{cls.name}</option>\n            ))}\n          </select>\n        </div>\n      </div>\n\n      {/* Recent Attendance List */}\n      <div className=\"bg-white dark:bg-gray-800 rounded-lg shadow border dark:border-gray-700\">\n        <div className=\"overflow-x-auto\">\n          <table className=\"min-w-full\">\n            <thead className=\"bg-gray-50 dark:bg-gray-700\">\n              <tr>\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider\">\n                  Class\n                </th>\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider\">\n                  Date\n                </th>\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider\">\n                  Time\n                </th>\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider\">\n                  Status\n                </th>\n              </tr>\n            </thead>\n            <tbody className=\"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700\">\n              {filteredSessions.map((session, index) => (\n                <tr key={index}>\n                  <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white\">\n                    {session.className}\n                  </td>\n                  <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400\">\n                    {new Date(session.date).toLocaleDateString()}\n                  </td>\n                  <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400\">\n                    {session.time || '--:--'}\n                  </td>\n                  <td className=\"px-6 py-4 whitespace-nowrap\">\n                    <span className={`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${\n                      session.status === 'present'\n                        ? 'bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300'\n                        : session.status === 'late'\n                        ? 'bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-300'\n                        : 'bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300'\n                    }`}>\n                      {session.status.charAt(0).toUpperCase() + session.status.slice(1)}\n                    </span>\n                  </td>\n                </tr>\n              ))}\n            </tbody>\n          </table>\n          {filteredSessions.length === 0 && (\n            <div className=\"text-center py-8\">\n              <Calendar className=\"w-12 h-12 text-gray-400 mx-auto mb-4\" />\n              <p className=\"text-gray-500 dark:text-gray-400\">No attendance records found</p>\n            </div>\n          )}\n        </div>\n      </div>\n\n      {/* Enrolled Classes */}\n      <div className=\"bg-white dark:bg-gray-800 rounded-lg shadow border dark:border-gray-700 p-6\">\n        <h3 className=\"text-lg font-medium text-gray-900 dark:text-white mb-4\">My Classes</h3>\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\n          {enrolledClasses.map((cls) => (\n            <div key={cls.id} className=\"border border-gray-200 dark:border-gray-700 rounded-lg p-4\">\n              <h4 className=\"font-medium text-gray-900 dark:text-white\">{cls.name}</h4>\n              <p className=\"text-sm text-gray-500 dark:text-gray-400 mt-1\">{cls.description}</p>\n              <div className=\"mt-3 flex items-center text-sm text-gray-500 dark:text-gray-400\">\n                <Users className=\"w-4 h-4 mr-1\" />\n                {cls.students.length} students enrolled\n              </div>\n            </div>\n          ))}\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 4507, "column": 0}, "map": {"version":3,"sources":["file:///home/ebbsy/Documents/Noesis/src/app/page.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useEffect } from 'react';\nimport { useAuth } from '@/lib/auth';\nimport { useAppStore } from '@/lib/store';\nimport ClassList from '@/components/ClassList';\nimport AttendanceTracker from '@/components/AttendanceTracker';\nimport AttendanceReports from '@/components/AttendanceReports';\nimport AttendanceCharts from '@/components/AttendanceCharts';\nimport Login from '@/components/Login';\nimport StudentDashboard from '@/components/StudentDashboard';\nimport { Search, Moon, Sun, Download, Upload, Settings, LogOut, User } from 'lucide-react';\nimport { exportToCSV } from '@/lib/utils';\n\nexport default function Home() {\n  const { user, isAuthenticated, logout } = useAuth();\n  const { classes, sessions, darkMode, toggleDarkMode, exportData } = useAppStore();\n  const [activeTab, setActiveTab] = useState<'classes' | 'attendance' | 'reports' | 'charts' | 'dashboard'>('dashboard');\n  const [searchTerm, setSearchTerm] = useState('');\n  const [showSettings, setShowSettings] = useState(false);\n\n  useEffect(() => {\n    if (darkMode) {\n      document.documentElement.classList.add('dark');\n    } else {\n      document.documentElement.classList.remove('dark');\n    }\n  }, [darkMode]);\n\n  // Set default tab based on user role\n  useEffect(() => {\n    if (isAuthenticated && user) {\n      setActiveTab(user.role === 'student' ? 'dashboard' : 'classes');\n    }\n  }, [isAuthenticated, user]);\n\n  const handleExport = () => {\n    const data = exportData();\n    const blob = new Blob([data], { type: 'application/json' });\n    const url = URL.createObjectURL(blob);\n    const a = document.createElement('a');\n    a.href = url;\n    a.download = 'attendance-data.json';\n    a.click();\n  };\n\n  const handleImport = (event: React.ChangeEvent<HTMLInputElement>) => {\n    const file = event.target.files?.[0];\n    if (file) {\n      const reader = new FileReader();\n      reader.onload = (e) => {\n        const content = e.target?.result as string;\n        useAppStore.getState().importData(content);\n      };\n      reader.readAsText(file);\n    }\n  };\n\n  // Show login screen if not authenticated\n  if (!isAuthenticated) {\n    return <Login />;\n  }\n\n  // Student-only view\n  if (user?.role === 'student') {\n    return (\n      <div className={`min-h-screen ${darkMode ? 'bg-gray-900' : 'bg-gray-50'}`}>\n        <header className={`${darkMode ? 'bg-gray-800 border-gray-700' : 'bg-white border-gray-200'} shadow-sm border-b sticky top-0 z-40`}>\n          <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n            <div className=\"flex flex-col sm:flex-row justify-between items-center py-3 sm:py-0 sm:h-16 space-y-3 sm:space-y-0\">\n              <div className=\"flex items-center space-x-3\">\n                <h1 className={`text-lg sm:text-xl font-bold ${darkMode ? 'text-white' : 'text-gray-900'} truncate`}>\n                  Student Portal\n                </h1>\n                <div className=\"flex items-center space-x-2\">\n                  <div className=\"bg-blue-100 dark:bg-blue-900 px-2 py-1 rounded-full\">\n                  <span className=\"text-xs font-medium text-blue-600 dark:text-blue-300\">\n                    {user?.name}\n                  </span>\n                </div>\n                </div>\n              </div>\n              \n              <div className=\"flex items-center space-x-2\">\n                <button\n                  onClick={() => setShowSettings(!showSettings)}\n                  className={`p-2 rounded-lg ${darkMode ? 'hover:bg-gray-700 text-gray-300' : 'hover:bg-gray-100 text-gray-600'}`}\n                >\n                  <Settings className=\"w-4 h-4\" />\n                </button>\n                \n                <button\n                  onClick={toggleDarkMode}\n                  className={`p-2 rounded-lg ${darkMode ? 'hover:bg-gray-700 text-gray-300' : 'hover:bg-gray-100 text-gray-600'}`}\n                >\n                  {darkMode ? <Sun className=\"w-4 h-4\" /> : <Moon className=\"w-4 h-4\" />}\n                </button>\n                \n                <button\n                  onClick={logout}\n                  className={`p-2 rounded-lg ${darkMode ? 'hover:bg-gray-700 text-gray-300' : 'hover:bg-gray-100 text-gray-600'}`}\n                  title=\"Logout\"\n                >\n                  <LogOut className=\"w-4 h-4\" />\n                </button>\n              </div>\n            </div>\n\n            {/* Settings Dropdown */}\n            {showSettings && (\n              <div className={`absolute right-4 top-16 sm:top-auto sm:bottom-16 w-48 rounded-lg shadow-lg border ${darkMode ? 'bg-gray-800 border-gray-700' : 'bg-white border-gray-200'} z-50`}>\n                <div className=\"p-2\">\n                  <button\n                    onClick={logout}\n                    className=\"flex items-center space-x-2 p-2 rounded hover:bg-gray-100 dark:hover:bg-gray-700 w-full text-left\"\n                  >\n                    <LogOut className=\"w-4 h-4\" />\n                    <span className={`text-sm ${darkMode ? 'text-gray-300' : 'text-gray-700'}`}>Logout</span>\n                  </button>\n                </div>\n              </div>\n            )}\n          </div>\n        </header>\n\n        <main className=\"max-w-7xl mx-auto py-4 sm:py-6 px-4 sm:px-6 lg:px-8\">\n          <div className=\"pb-8\">\n            <StudentDashboard />\n          </div>\n        </main>\n      </div>\n    );\n  }\n\n  // Lecturer view (full access)\n  return (\n    <div className={`min-h-screen ${darkMode ? 'bg-gray-900' : 'bg-gray-50'}`}>\n      <header className={`${darkMode ? 'bg-gray-800 border-gray-700' : 'bg-white border-gray-200'} shadow-sm border-b sticky top-0 z-40`}>\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n          <div className=\"flex flex-col sm:flex-row justify-between items-center py-3 sm:py-0 sm:h-16 space-y-3 sm:space-y-0\">\n            <div className=\"flex items-center space-x-3\">\n              <h1 className={`text-lg sm:text-xl font-bold ${darkMode ? 'text-white' : 'text-gray-900'} truncate`}>\n                Noesis Attendance System\n              </h1>\n              <div className=\"flex items-center space-x-2\">\n                <div className=\"bg-green-100 dark:bg-green-900 px-2 py-1 rounded-full\">\n                  <span className=\"text-xs font-medium text-green-600 dark:text-green-300\">\n                    Lecturer\n                  </span>\n                </div>\n                <div className=\"bg-blue-100 dark:bg-blue-900 px-2 py-1 rounded-full\">\n                  <span className=\"text-xs font-medium text-blue-600 dark:text-blue-300\">\n                    {user?.name}\n                  </span>\n                </div>\n              </div>\n            </div>\n            \n            <div className=\"flex flex-col sm:flex-row items-center space-y-2 sm:space-y-0 sm:space-x-4 w-full sm:w-auto\">\n              {/* Search Bar */}\n              <div className=\"relative w-full sm:w-auto\">\n                <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4\" />\n                <input\n                  type=\"text\"\n                  placeholder=\"Search classes, students...\"\n                  value={searchTerm}\n                  onChange={(e) => setSearchTerm(e.target.value)}\n                  className={`pl-10 pr-4 py-2 rounded-lg border w-full sm:w-64 ${darkMode ? 'bg-gray-700 border-gray-600 text-white' : 'bg-gray-50 border-gray-300'} focus:outline-none focus:ring-2 focus:ring-blue-500`}\n                />\n              </div>\n\n              {/* Settings and Actions */}\n              <div className=\"flex items-center space-x-2\">\n                <button\n                  onClick={() => setShowSettings(!showSettings)}\n                  className={`p-2 rounded-lg ${darkMode ? 'hover:bg-gray-700 text-gray-300' : 'hover:bg-gray-100 text-gray-600'}`}\n                >\n                  <Settings className=\"w-4 h-4\" />\n                </button>\n                \n                <button\n                  onClick={toggleDarkMode}\n                  className={`p-2 rounded-lg ${darkMode ? 'hover:bg-gray-700 text-gray-300' : 'hover:bg-gray-100 text-gray-600'}`}\n                >\n                  {darkMode ? <Sun className=\"w-4 h-4\" /> : <Moon className=\"w-4 h-4\" />}\n                </button>\n                \n                <button\n                  onClick={logout}\n                  className={`p-2 rounded-lg ${darkMode ? 'hover:bg-gray-700 text-gray-300' : 'hover:bg-gray-100 text-gray-600'}`}\n                  title=\"Logout\"\n                >\n                  <LogOut className=\"w-4 h-4\" />\n                </button>\n              </div>\n            </div>\n          </div>\n\n          {/* Settings Dropdown */}\n          {showSettings && (\n            <div className={`absolute right-4 top-16 sm:top-auto sm:bottom-16 w-48 rounded-lg shadow-lg border ${darkMode ? 'bg-gray-800 border-gray-700' : 'bg-white border-gray-200'} z-50`}>\n              <div className=\"p-2\">\n                <label className=\"flex items-center space-x-2 p-2 rounded hover:bg-gray-100 dark:hover:bg-gray-700 cursor-pointer\">\n                  <Upload className=\"w-4 h-4\" />\n                  <span className={`text-sm ${darkMode ? 'text-gray-300' : 'text-gray-700'}`}>Import Data</span>\n                  <input\n                    type=\"file\"\n                    accept=\".json\"\n                    onChange={handleImport}\n                    className=\"hidden\"\n                  />\n                </label>\n                <button\n                  onClick={handleExport}\n                  className=\"flex items-center space-x-2 p-2 rounded hover:bg-gray-100 dark:hover:bg-gray-700 w-full text-left\"\n                >\n                  <Download className=\"w-4 h-4\" />\n                  <span className={`text-sm ${darkMode ? 'text-gray-300' : 'text-gray-700'}`}>Export Data</span>\n                </button>\n                <button\n                  onClick={logout}\n                  className=\"flex items-center space-x-2 p-2 rounded hover:bg-gray-100 dark:hover:bg-gray-700 w-full text-left\"\n                >\n                  <LogOut className=\"w-4 h-4\" />\n                  <span className={`text-sm ${darkMode ? 'text-gray-300' : 'text-gray-700'}`}>Logout</span>\n                </button>\n              </div>\n            </div>\n          )}\n        </div>\n\n        {/* Navigation Tabs */}\n        <div className=\"border-t border-gray-200 dark:border-gray-700\">\n          <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n            <div className=\"flex flex-wrap sm:flex-nowrap overflow-x-auto\">\n              {[\n                { id: 'classes', label: 'Classes' },\n                { id: 'attendance', label: 'Take Attendance' },\n                { id: 'reports', label: 'Reports' },\n                { id: 'charts', label: 'Analytics' },\n              ].map((tab) => (\n                <button\n                  key={tab.id}\n                  onClick={() => setActiveTab(tab.id as any)}\n                  className={`py-3 sm:py-4 px-4 sm:px-6 border-b-2 font-medium text-sm transition-colors whitespace-nowrap flex-shrink-0 ${\n                    activeTab === tab.id\n                      ? 'border-blue-500 text-blue-600'\n                      : `border-transparent ${darkMode ? 'text-gray-400 hover:text-gray-300' : 'text-gray-500 hover:text-gray-700'}`\n                  }`}\n                >\n                  {tab.label}\n                </button>\n              ))}\n            </div>\n          </div>\n        </div>\n      </header>\n\n      <main className=\"max-w-7xl mx-auto py-4 sm:py-6 px-4 sm:px-6 lg:px-8\">\n        <div className=\"pb-8\">\n          {activeTab === 'classes' && <ClassList searchTerm={searchTerm} />}\n          {activeTab === 'attendance' && <AttendanceTracker searchTerm={searchTerm} />}\n          {activeTab === 'reports' && <AttendanceReports searchTerm={searchTerm} />}\n          {activeTab === 'charts' && <AttendanceCharts />}\n        </div>\n      </main>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAXA;;;;;;;;;;;;AAce,SAAS;IACtB,MAAM,EAAE,IAAI,EAAE,eAAe,EAAE,MAAM,EAAE,GAAG,IAAA,6HAAO;IACjD,MAAM,EAAE,OAAO,EAAE,QAAQ,EAAE,QAAQ,EAAE,cAAc,EAAE,UAAU,EAAE,GAAG,IAAA,kIAAW;IAC/E,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,iNAAQ,EAAgE;IAC1G,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,iNAAQ,EAAC;IAC7C,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,iNAAQ,EAAC;IAEjD,IAAA,kNAAS,EAAC;QACR,IAAI,UAAU;YACZ,SAAS,eAAe,CAAC,SAAS,CAAC,GAAG,CAAC;QACzC,OAAO;YACL,SAAS,eAAe,CAAC,SAAS,CAAC,MAAM,CAAC;QAC5C;IACF,GAAG;QAAC;KAAS;IAEb,qCAAqC;IACrC,IAAA,kNAAS,EAAC;QACR,IAAI,mBAAmB,MAAM;YAC3B,aAAa,KAAK,IAAI,KAAK,YAAY,cAAc;QACvD;IACF,GAAG;QAAC;QAAiB;KAAK;IAE1B,MAAM,eAAe;QACnB,MAAM,OAAO;QACb,MAAM,OAAO,IAAI,KAAK;YAAC;SAAK,EAAE;YAAE,MAAM;QAAmB;QACzD,MAAM,MAAM,IAAI,eAAe,CAAC;QAChC,MAAM,IAAI,SAAS,aAAa,CAAC;QACjC,EAAE,IAAI,GAAG;QACT,EAAE,QAAQ,GAAG;QACb,EAAE,KAAK;IACT;IAEA,MAAM,eAAe,CAAC;QACpB,MAAM,OAAO,MAAM,MAAM,CAAC,KAAK,EAAE,CAAC,EAAE;QACpC,IAAI,MAAM;YACR,MAAM,SAAS,IAAI;YACnB,OAAO,MAAM,GAAG,CAAC;gBACf,MAAM,UAAU,EAAE,MAAM,EAAE;gBAC1B,kIAAW,CAAC,QAAQ,GAAG,UAAU,CAAC;YACpC;YACA,OAAO,UAAU,CAAC;QACpB;IACF;IAEA,yCAAyC;IACzC,IAAI,CAAC,iBAAiB;QACpB,qBAAO,8OAAC,sIAAK;;;;;IACf;IAEA,oBAAoB;IACpB,IAAI,MAAM,SAAS,WAAW;QAC5B,qBACE,8OAAC;YAAI,WAAW,CAAC,aAAa,EAAE,WAAW,gBAAgB,cAAc;;8BACvE,8OAAC;oBAAO,WAAW,GAAG,WAAW,gCAAgC,2BAA2B,qCAAqC,CAAC;8BAChI,cAAA,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAI,WAAU;;kDACb,8OAAC;wCAAI,WAAU;;0DACb,8OAAC;gDAAG,WAAW,CAAC,6BAA6B,EAAE,WAAW,eAAe,gBAAgB,SAAS,CAAC;0DAAE;;;;;;0DAGrG,8OAAC;gDAAI,WAAU;0DACb,cAAA,8OAAC;oDAAI,WAAU;8DACf,cAAA,8OAAC;wDAAK,WAAU;kEACb,MAAM;;;;;;;;;;;;;;;;;;;;;;kDAMb,8OAAC;wCAAI,WAAU;;0DACb,8OAAC;gDACC,SAAS,IAAM,gBAAgB,CAAC;gDAChC,WAAW,CAAC,eAAe,EAAE,WAAW,oCAAoC,mCAAmC;0DAE/G,cAAA,8OAAC,sNAAQ;oDAAC,WAAU;;;;;;;;;;;0DAGtB,8OAAC;gDACC,SAAS;gDACT,WAAW,CAAC,eAAe,EAAE,WAAW,oCAAoC,mCAAmC;0DAE9G,yBAAW,8OAAC,uMAAG;oDAAC,WAAU;;;;;yEAAe,8OAAC,0MAAI;oDAAC,WAAU;;;;;;;;;;;0DAG5D,8OAAC;gDACC,SAAS;gDACT,WAAW,CAAC,eAAe,EAAE,WAAW,oCAAoC,mCAAmC;gDAC/G,OAAM;0DAEN,cAAA,8OAAC,oNAAM;oDAAC,WAAU;;;;;;;;;;;;;;;;;;;;;;;4BAMvB,8BACC,8OAAC;gCAAI,WAAW,CAAC,kFAAkF,EAAE,WAAW,gCAAgC,2BAA2B,KAAK,CAAC;0CAC/K,cAAA,8OAAC;oCAAI,WAAU;8CACb,cAAA,8OAAC;wCACC,SAAS;wCACT,WAAU;;0DAEV,8OAAC,oNAAM;gDAAC,WAAU;;;;;;0DAClB,8OAAC;gDAAK,WAAW,CAAC,QAAQ,EAAE,WAAW,kBAAkB,iBAAiB;0DAAE;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;8BAQxF,8OAAC;oBAAK,WAAU;8BACd,cAAA,8OAAC;wBAAI,WAAU;kCACb,cAAA,8OAAC,iJAAgB;;;;;;;;;;;;;;;;;;;;;IAK3B;IAEA,8BAA8B;IAC9B,qBACE,8OAAC;QAAI,WAAW,CAAC,aAAa,EAAE,WAAW,gBAAgB,cAAc;;0BACvE,8OAAC;gBAAO,WAAW,GAAG,WAAW,gCAAgC,2BAA2B,qCAAqC,CAAC;;kCAChI,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAI,WAAU;;kDACb,8OAAC;wCAAI,WAAU;;0DACb,8OAAC;gDAAG,WAAW,CAAC,6BAA6B,EAAE,WAAW,eAAe,gBAAgB,SAAS,CAAC;0DAAE;;;;;;0DAGrG,8OAAC;gDAAI,WAAU;;kEACb,8OAAC;wDAAI,WAAU;kEACb,cAAA,8OAAC;4DAAK,WAAU;sEAAyD;;;;;;;;;;;kEAI3E,8OAAC;wDAAI,WAAU;kEACb,cAAA,8OAAC;4DAAK,WAAU;sEACb,MAAM;;;;;;;;;;;;;;;;;;;;;;;kDAMf,8OAAC;wCAAI,WAAU;;0DAEb,8OAAC;gDAAI,WAAU;;kEACb,8OAAC,gNAAM;wDAAC,WAAU;;;;;;kEAClB,8OAAC;wDACC,MAAK;wDACL,aAAY;wDACZ,OAAO;wDACP,UAAU,CAAC,IAAM,cAAc,EAAE,MAAM,CAAC,KAAK;wDAC7C,WAAW,CAAC,iDAAiD,EAAE,WAAW,2CAA2C,6BAA6B,oDAAoD,CAAC;;;;;;;;;;;;0DAK3M,8OAAC;gDAAI,WAAU;;kEACb,8OAAC;wDACC,SAAS,IAAM,gBAAgB,CAAC;wDAChC,WAAW,CAAC,eAAe,EAAE,WAAW,oCAAoC,mCAAmC;kEAE/G,cAAA,8OAAC,sNAAQ;4DAAC,WAAU;;;;;;;;;;;kEAGtB,8OAAC;wDACC,SAAS;wDACT,WAAW,CAAC,eAAe,EAAE,WAAW,oCAAoC,mCAAmC;kEAE9G,yBAAW,8OAAC,uMAAG;4DAAC,WAAU;;;;;iFAAe,8OAAC,0MAAI;4DAAC,WAAU;;;;;;;;;;;kEAG5D,8OAAC;wDACC,SAAS;wDACT,WAAW,CAAC,eAAe,EAAE,WAAW,oCAAoC,mCAAmC;wDAC/G,OAAM;kEAEN,cAAA,8OAAC,oNAAM;4DAAC,WAAU;;;;;;;;;;;;;;;;;;;;;;;;;;;;;4BAOzB,8BACC,8OAAC;gCAAI,WAAW,CAAC,kFAAkF,EAAE,WAAW,gCAAgC,2BAA2B,KAAK,CAAC;0CAC/K,cAAA,8OAAC;oCAAI,WAAU;;sDACb,8OAAC;4CAAM,WAAU;;8DACf,8OAAC,gNAAM;oDAAC,WAAU;;;;;;8DAClB,8OAAC;oDAAK,WAAW,CAAC,QAAQ,EAAE,WAAW,kBAAkB,iBAAiB;8DAAE;;;;;;8DAC5E,8OAAC;oDACC,MAAK;oDACL,QAAO;oDACP,UAAU;oDACV,WAAU;;;;;;;;;;;;sDAGd,8OAAC;4CACC,SAAS;4CACT,WAAU;;8DAEV,8OAAC,sNAAQ;oDAAC,WAAU;;;;;;8DACpB,8OAAC;oDAAK,WAAW,CAAC,QAAQ,EAAE,WAAW,kBAAkB,iBAAiB;8DAAE;;;;;;;;;;;;sDAE9E,8OAAC;4CACC,SAAS;4CACT,WAAU;;8DAEV,8OAAC,oNAAM;oDAAC,WAAU;;;;;;8DAClB,8OAAC;oDAAK,WAAW,CAAC,QAAQ,EAAE,WAAW,kBAAkB,iBAAiB;8DAAE;;;;;;;;;;;;;;;;;;;;;;;;;;;;;kCAQtF,8OAAC;wBAAI,WAAU;kCACb,cAAA,8OAAC;4BAAI,WAAU;sCACb,cAAA,8OAAC;gCAAI,WAAU;0CACZ;oCACC;wCAAE,IAAI;wCAAW,OAAO;oCAAU;oCAClC;wCAAE,IAAI;wCAAc,OAAO;oCAAkB;oCAC7C;wCAAE,IAAI;wCAAW,OAAO;oCAAU;oCAClC;wCAAE,IAAI;wCAAU,OAAO;oCAAY;iCACpC,CAAC,GAAG,CAAC,CAAC,oBACL,8OAAC;wCAEC,SAAS,IAAM,aAAa,IAAI,EAAE;wCAClC,WAAW,CAAC,2GAA2G,EACrH,cAAc,IAAI,EAAE,GAChB,kCACA,CAAC,mBAAmB,EAAE,WAAW,sCAAsC,qCAAqC,EAChH;kDAED,IAAI,KAAK;uCARL,IAAI,EAAE;;;;;;;;;;;;;;;;;;;;;;;;;;0BAgBvB,8OAAC;gBAAK,WAAU;0BACd,cAAA,8OAAC;oBAAI,WAAU;;wBACZ,cAAc,2BAAa,8OAAC,0IAAS;4BAAC,YAAY;;;;;;wBAClD,cAAc,8BAAgB,8OAAC,kJAAiB;4BAAC,YAAY;;;;;;wBAC7D,cAAc,2BAAa,8OAAC,kJAAiB;4BAAC,YAAY;;;;;;wBAC1D,cAAc,0BAAY,8OAAC,iJAAgB;;;;;;;;;;;;;;;;;;;;;;AAKtD"}}]
}